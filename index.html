<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 Kukiri'nin Yapay Zeka Atölyesi</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Nunito:wght@300;400;600;700;800&family=Fredoka+One&family=Bangers&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root {
            --lego-yellow: #FFDE0A;
            --lego-red: #E0001A;
            --lego-blue: #0053BF;
            --lego-green: #009624;
            --lego-black: #1B1B1B;
            --lego-white: #FFFFFF;
            --lego-light-gray: #F5F5F5;
            --lego-dark-gray: #A0A5A9;
            --lego-orange: #FF8000;
            --lego-purple: #8A2BE2;
            --lego-pink: #FF69B4;
            --lego-dark-purple: #4B0082; /* For new modules */
            --lego-brown: #8B4513; /* For new modules */
            --lego-light-blue: #ADD8E6; /* For new modules, clearer background */

            --primary-gradient: linear-gradient(135deg, var(--lego-yellow) 0%, #f7c600 100%);
            --secondary-gradient: linear-gradient(135deg, var(--lego-blue) 0%, #0041a3 100%);
            --accent-gradient: linear-gradient(135deg, var(--lego-red) 0%, #c0271a 100%);
            --success-gradient: linear-gradient(135deg, var(--lego-green) 0%, #007f1e 100%);
            --warning-gradient: linear-gradient(135deg, var(--lego-orange) 0%, #e67300 100%);
            --info-gradient: linear-gradient(135deg, var(--lego-purple) 0%, var(--lego-dark-purple) 100%); /* For new modules */

            --text-primary: var(--lego-black);
            --text-secondary: #4F4F4F;
            --text-light: var(--lego-white);
            --text-on-dark: var(--lego-light-gray);


            --space-xs: 0.6rem;
            --space-sm: 1.1rem;
            --space-md: 1.6rem;
            --space-lg: 2.2rem;
            --space-xl: 3.3rem;

            --border-radius: 14px;
            --border-radius-sm: 9px;
            --border-radius-lg: 22px;

            --font-primary: 'Nunito', sans-serif;
            --font-title: 'Bangers', cursive;
            --font-subtitle: 'Fredoka One', cursive;
            --font-tech: 'Orbitron', sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-primary);
            background-color: var(--lego-light-gray);
            background-image:
                radial-gradient(rgba(0,0,0,0.1) 1px, transparent 1px),
                radial-gradient(rgba(0,0,0,0.1) 1px, var(--lego-light-gray) 1px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            color: var(--text-primary);
            overflow-x: hidden;
            line-height: 1.7;
        }

        .particles {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: -1; overflow: hidden;
        }
        .particle {
            position: absolute; width: 12px; height: 12px;
            border: 1.5px solid var(--lego-black); border-radius: 2px;
            animation: float-particle 25s infinite linear; opacity: 0.7;
            box-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        .particle.red { background-color: var(--lego-red); }
        .particle.blue { background-color: var(--lego-blue); }
        .particle.green { background-color: var(--lego-green); }
        .particle.yellow { background-color: var(--lego-yellow); }
        .particle.orange { background-color: var(--lego-orange); }

        @keyframes float-particle {
            0% { transform: translateY(105vh) translateX(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.7; } 90% { opacity: 0.7; }
            100% { transform: translateY(-100px) translateX(calc(var(--random-x) * 1px)) rotate(720deg); opacity: 0;}
        }

        .header {
            background: var(--primary-gradient);
            padding: var(--space-sm) var(--space-lg);
            text-align: center; position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            border-bottom: 6px solid var(--lego-red);
        }
        .header h1 {
            font-family: var(--font-title); letter-spacing: 2px;
            font-size: clamp(2.5rem, 6vw, 4.5rem); color: var(--lego-blue);
            margin-bottom: var(--space-xs);
            text-shadow: 3px 3px 0px var(--lego-white), -3px -3px 0px var(--lego-red);
            transform: rotate(-2deg); display: inline-block;
            animation: headerPulse 4s ease-in-out infinite;
        }
        @keyframes headerPulse {
            0% { transform: rotate(-2deg) scale(1); text-shadow: 3px 3px 0px var(--lego-white), -3px -3px 0px var(--lego-red); }
            50% { transform: rotate(-1deg) scale(1.03); text-shadow: 4px 4px 0px var(--lego-yellow), -4px -4px 0px var(--lego-blue); }
            100% { transform: rotate(-2deg) scale(1); text-shadow: 3px 3px 0px var(--lego-white), -3px -3px 0px var(--lego-red); }
        }
        .header h1 .rocket-icon {
            display: inline-block;
            animation: rocketFly 3s ease-in-out infinite alternate;
        }
        @keyframes rocketFly {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-8px) rotate(10deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        .header .subtitle {
            font-family: var(--font-subtitle);
            font-size: clamp(1.1rem, 3vw, 1.6rem); color: var(--lego-black);
            font-weight: 400;
        }

        .main-container {
            max-width: 1350px; margin: var(--space-lg) auto;
            padding: 0 var(--space-md);
        }

        .section {
            background: var(--lego-white); border-radius: var(--border-radius-lg);
            padding: var(--space-xl); margin-bottom: var(--space-xl);
            box-shadow: 0 12px 35px rgba(0,0,0,0.12);
            border: 4px solid var(--lego-dark-gray); position: relative; overflow: hidden;
        }
        .section::before, .section::after {
            content: ''; position: absolute;
            width: 24px; height: 24px; background-color: var(--lego-dark-gray);
            border-radius: 50%; opacity: 0.2;
        }
        .section::before { top: 12px; left: 12px; }
        .section::after { bottom: 12px; right: 12px; }

        .hero-section {
            display: grid; grid-template-columns: 2fr 1fr; gap: var(--space-xl);
            align-items: center;
            background: linear-gradient(140deg, var(--lego-blue) 0%, var(--lego-green) 70%, var(--lego-yellow) 100%);
            color: var(--text-light); padding-top: var(--space-xl); padding-bottom: var(--space-xl);
        }
        .hero-section::before, .hero-section::after { display: none; }

        .hero-content .hero-title {
            font-family: var(--font-title); letter-spacing: 1px;
            font-size: clamp(2.8rem, 5vw, 4.2rem); margin-bottom: var(--space-md);
            color: var(--lego-yellow); text-shadow: 3px 3px 0px var(--lego-black);
        }
        .hero-description {
            font-size: 1.25rem; margin-bottom: var(--space-lg); line-height: 1.8;
            background-color: rgba(0,0,0,0.2);
            padding: var(--space-md);
            border-radius: var(--border-radius);
        }
        .hero-description strong { color: var(--lego-yellow); font-weight: 700; }

        .cta-buttons { display: flex; gap: var(--space-md); flex-wrap: wrap; margin-top: var(--space-lg); }
        .cta-btn {
            padding: var(--space-md) var(--space-lg); border: none;
            border-radius: var(--border-radius); font-weight: 700; font-size: 1.15rem;
            font-family: var(--font-subtitle); cursor: pointer; transition: all 0.25s ease-out;
            text-decoration: none; display: inline-flex; align-items: center;
            gap: var(--space-sm); box-shadow: 0 6px 0px var(--lego-dark-gray);
            position: relative;
        }
        .cta-btn i { font-size: 1.3em; }
        .cta-btn.primary { background: var(--lego-yellow); color: var(--lego-black); border-bottom: 4px solid #FFC400; }
        .cta-btn.primary:hover { background: #FFC400; box-shadow: 0 4px 0px #E6B000; top: 2px; }
        .cta-btn.primary:active { box-shadow: 0 2px 0px #CC9D00; top: 4px; }

        .cta-btn.secondary { background: var(--lego-red); color: var(--lego-white); border-bottom: 4px solid #B81D13;}
        .cta-btn.secondary:hover { background: #B81D13; box-shadow: 0 4px 0px #91170F; top: 2px;}
        .cta-btn.secondary:active { box-shadow: 0 2px 0px #7A130C; top: 4px; }

        .kukiri-container { display: flex; justify-content: center; align-items: center; }
        #kukiri-mascot {
            width: clamp(250px, 30vw, 400px); height: auto;
            animation: kukiri-float 4s ease-in-out infinite;
            filter: drop-shadow(8px 8px 15px rgba(0,0,0,0.4));
            transition: transform 0.3s ease, filter 0.3s ease;
        }
        #kukiri-mascot:hover {
            transform: scale(1.05) rotate(3deg) translateY(-5px);
            filter: drop-shadow(10px 15px 20px rgba(0,0,0,0.45));
            cursor: pointer;
        }
        /* New Kukiri SVG Styling */
        #kukiri-svg-body {
            fill: #FFDE0A; /* Yellow body */
            stroke: var(--lego-black);
            stroke-width: 2px;
            filter: drop-shadow(3px 3px 5px rgba(0,0,0,0.3));
            transform-origin: center;
            animation: kukiri-body-float 4s ease-in-out infinite; /* Keep floating animation on body */
        }
        #kukiri-svg-wing-left, #kukiri-svg-wing-right {
            fill: #E0001A; /* Red wings */
            transform-origin: 50% 50%; /* Pivot point for rotation */
            animation: wing-flap 0.5s ease-in-out infinite alternate;
        }
        #kukiri-svg-wing-right {
            animation-delay: 0.1s; /* Slightly offset for more natural look */
        }
        #kukiri-svg-eye {
            fill: #0053BF; /* Blue eye */
            stroke: var(--lego-black);
            stroke-width: 1px;
        }
        #kukiri-svg-pupil {
            fill: var(--lego-black);
        }
        #kukiri-svg-beak {
            fill: var(--lego-orange);
            stroke: var(--lego-black);
            stroke-width: 1px;
        }
        #kukiri-svg-propeller-base {
            fill: #C62828; /* Red propeller base */
            stroke: var(--lego-black);
            stroke-width: 2px;
        }
        #kukiri-svg-propeller-blade {
            fill: #009624; /* Green propeller */
            transform-origin: 50% 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes kukiri-body-float { /* Renamed for clarity */
            0%, 100% { transform: translateY(0px) rotate(-2deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }
        @keyframes wing-flap {
            0%, 100% { transform: rotateX(0deg); }
            50% { transform: rotateX(25deg); } /* Flap effect */
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .section-title {
            font-family: var(--font-title); letter-spacing: 1.5px;
            font-size: clamp(2.2rem, 4vw, 3.5rem); text-align: center;
            margin-bottom: var(--space-xl); color: var(--lego-blue);
            position: relative; padding-bottom: var(--space-md);
        }
        .section-title::after {
            content: ''; display: block; width: 100px; height: 6px;
            background: var(--lego-red); border-radius: 3px;
            margin: var(--space-sm) auto 0;
            box-shadow: 0 2px 0 var(--lego-yellow);
        }
        .demo-intro-text {
            text-align: center; font-size: 1.1rem; color: var(--text-secondary);
            margin-bottom: var(--space-lg); max-width: 800px; margin-left: auto; margin-right: auto;
        }

        .missions-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: var(--space-lg);
        }
        .mission-card {
            background: var(--lego-white); border: 3px solid var(--lego-dark-gray);
            border-radius: var(--border-radius-lg); padding: var(--space-lg);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); display: flex;
            flex-direction: column; text-align: center;
            box-shadow: 5px 5px 0px var(--lego-dark-gray);
        }
        .mission-card .mission-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        .mission-card:hover {
            transform: translateY(-10px) rotate(1deg);
            box-shadow: 10px 10px 0px var(--lego-yellow), 0px 0px 20px rgba(0,0,0,0.2);
            border-color: var(--lego-blue);
        }
        .mission-icon { font-size: 3.5rem; margin-bottom: var(--space-md); }
        
        .mission-title {
            font-family: var(--font-subtitle); font-size: 1.6rem;
            font-weight: 700; margin-bottom: var(--space-sm); color: var(--text-primary);
        }
        .mission-title .chapter-no {
            font-family: var(--font-title);
            color: var(--lego-red);
            font-size: 1.8rem;
            display: block;
            margin-bottom: var(--space-xs);
        }
        .mission-story {
            font-style: italic;
            color: var(--text-secondary);
            margin-bottom: var(--space-sm);
            border-left: 3px solid var(--lego-yellow);
            padding-left: var(--space-sm);
            font-size: 0.95rem;
        }
        .mission-description {
            color: var(--text-secondary); line-height: 1.6;
            margin-bottom: var(--space-md); flex-grow: 1; font-size: 1.05rem;
        }
        .mission-btn {
            width: 100%; padding: var(--space-sm) var(--space-md);
            border: none; border-radius: var(--border-radius);
            background: var(--secondary-gradient); color: var(--text-light);
            font-weight: 700; font-family: var(--font-subtitle); cursor: pointer;
            transition: all 0.2s ease-in-out; font-size: 1.1rem; margin-top: auto;
            border-bottom: 4px solid #00388A;
        }
        .mission-btn:hover {
            background: var(--accent-gradient); transform: scale(1.03) translateY(-2px);
            border-bottom-color: #A31F15;
        }

        .ai-demo-area {
            background: var(--lego-light-gray); border-radius: var(--border-radius-lg);
            padding: var(--space-lg); margin-top: var(--space-lg); display: none;
            border: 4px dashed var(--lego-blue);
            box-shadow: inset 0 0 20px rgba(0,0,0,0.05);
        }
        .ai-demo-area.active { display: block; animation: zoomIn 0.4s cubic-bezier(0.390, 0.575, 0.565, 1.000); }
        @keyframes zoomIn {
            from { opacity: 0; transform: scale(0.95) translateY(10px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }
        .demo-controls {
            display: flex; gap: var(--space-md); margin-bottom: var(--space-lg);
            flex-wrap: wrap; justify-content: center;
            align-items: center;
        }
        .demo-controls button {
            background: var(--lego-green); color: white; border: none;
            padding: var(--space-sm) var(--space-lg); border-radius: var(--border-radius);
            cursor: pointer; font-weight: 700; font-family: var(--font-subtitle); font-size: 1rem;
            transition: all 0.2s ease; box-shadow: 0 4px 0px #006400;
        }
        .demo-controls button:hover { background: #006400; transform: translateY(-2px); box-shadow: 0 6px 0px #004d00;}
        .demo-controls button:active { transform: translateY(1px); box-shadow: 0 2px 0px #004d00;}
        .demo-controls button:disabled {
            background-color: var(--lego-dark-gray);
            box-shadow: 0 4px 0px #616161;
            cursor: not-allowed;
        }
        
        .demo-controls input[type="text"], .demo-controls textarea, .demo-controls input[type="number"] {
            flex: 1; padding: var(--space-sm) var(--space-md);
            border: 2px solid var(--lego-dark-gray); border-radius: var(--border-radius);
            font-size: 1rem; font-family: var(--font-primary);
            color: var(--text-primary);
        }
        
        .python-ide {
            border: 2px solid var(--lego-dark-gray);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .python-code-input {
            width: 100%;
            height: 250px;
            border: none;
            padding: var(--space-md);
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            background-color: var(--lego-black);
            color: var(--lego-yellow);
            resize: vertical;
        }

        /* Adjusted color for outputs */
        .python-output, .demo-output {
            background: var(--lego-light-gray); /* Lighter background */
            color: var(--lego-black); /* Darker text for readability */
            border-top: 2px solid var(--lego-dark-gray);
            padding: var(--space-md);
            min-height: 80px; font-family: var(--font-tech);
            font-size: 0.9rem; white-space: pre-wrap; overflow-x: auto;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.05); /* Lighter inset shadow */
        }
        /* Specific override for error messages to remain red */
        .python-output strong.error-message {
            color: var(--lego-red);
        }


        .learning-box {
            margin-top: var(--space-lg);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-lg);
        }
        .learning-box .tip-box, .learning-box .summary-box {
            padding: var(--space-md);
            border-radius: var(--border-radius);
            border: 2px solid var(--lego-dark-gray);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .learning-box .tip-box {
            background-color: #fffde7;
            border-color: var(--lego-yellow);
        }
        .learning-box .summary-box {
            background-color: #e3f2fd;
            border-color: var(--lego-blue);
        }
        .learning-box h4 {
            font-family: var(--font-subtitle);
            color: var(--lego-red);
            margin-bottom: var(--space-sm);
        }
        .learning-box h4 i {
            margin-right: var(--space-xs);
        }
        
        .video-container, .chat-interface {
             margin-left: auto;
             margin-right: auto;
        }
        .video-container {
            position: relative; width: 100%; max-width: 560px;
            margin: 0 auto var(--space-lg); border: 3px solid var(--lego-black);
            border-radius: var(--border-radius); overflow: hidden;
            background-color: var(--lego-black);
        }
        .video-element, .output-canvas {
            width: 100%; height: auto; display: block;
            transform: scaleX(-1); /* Mirror effect for webcam */
        }
        .output-canvas { position: absolute; top: 0; left: 0; }

        .status-message {
            font-weight: bold; padding: var(--space-sm);
            border-radius: var(--border-radius-sm); margin-bottom: var(--space-md);
            text-align: center; font-size: 1.05rem;
            transition: all 0.3s ease;
        }
        .status-message.loading { background: var(--warning-gradient); color: var(--lego-black); }
        .status-message.success { background: var(--success-gradient); color: var(--lego-white); }
        .status-message.error { background: var(--accent-gradient); color: var(--lego-white); }
        
        .chat-interface {
            background: var(--lego-white); border-radius: var(--border-radius-lg);
            height: 500px; display: flex; flex-direction: column; max-width: 700px;
            border: 3px solid var(--lego-blue); box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        .chat-header {
            padding: var(--space-md); background: var(--lego-blue); color: var(--lego-white);
            border-bottom: 2px solid var(--lego-black); display: flex; align-items: center;
            gap: var(--space-sm); border-top-left-radius: calc(var(--border-radius-lg) - 3px);
            border-top-right-radius: calc(var(--border-radius-lg) - 3px);
        }
        .chat-avatar svg {
            width: 45px; height: 45px;
        }
        .chat-name { font-family:var(--font-subtitle); font-weight: 700; font-size: 1.3rem;}
        .chat-status { font-size: 0.9rem; opacity: 0.85; }

        .chat-messages {
            flex: 1; padding: var(--space-md); overflow-y: auto;
            display: flex; flex-direction: column; gap: var(--space-md);
            background-image: radial-gradient(var(--lego-dark-gray) 0.5px, transparent 0.5px);
            background-size: 10px 10px;
        }
        .message {
            max-width: 80%; padding: var(--space-sm) var(--space-md);
            border-radius: var(--border-radius); line-height: 1.55;
            position: relative; word-wrap: break-word; font-size: 1.05rem;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        }
        .message.kukiri {
            background: var(--lego-yellow); color: var(--lego-black);
            align-self: flex-start; border-bottom-left-radius: 4px;
        }
        .message.user {
            background: var(--lego-blue); color: var(--lego-white);
            align-self: flex-end; border-bottom-right-radius: 4px;
        }

        .chat-input {
            padding: var(--space-md); border-top: 3px solid var(--lego-dark-gray);
            display: flex; gap: var(--space-sm); background: var(--lego-light-gray);
            border-bottom-left-radius: calc(var(--border-radius-lg) - 3px);
            border-bottom-right-radius: calc(var(--border-radius-lg) - 3px);
            align-items: center;
        }
        .chat-input input {
            flex: 1; padding: var(--space-sm) var(--space-md);
            border: 2px solid var(--lego-dark-gray); border-radius: var(--border-radius);
            background: var(--lego-white); color: var(--text-primary);
            font-size: 1.05rem; font-family: var(--font-primary);
        }
        .chat-input button {
            padding: var(--space-sm) var(--space-lg); border: none;
            border-radius: var(--border-radius); background: var(--lego-red);
            color: var(--lego-white); cursor: pointer; transition: all 0.2s ease;
            font-weight: 700; font-family: var(--font-subtitle);
            box-shadow: 0 3px 0px #A52A2A;
        }

        /* AI DEMO SPECIFIC STYLES */
        .color-buttons {
            display: flex; justify-content: center; gap: var(--space-sm); flex-wrap: wrap; margin-bottom: var(--space-md);
        }
        .color-btn {
            padding: var(--space-md); font-size: 1rem; border-radius: var(--border-radius);
            border: 3px solid var(--lego-black); font-family: var(--font-subtitle); cursor: pointer; transition: transform 0.2s;
        }
        .color-btn:hover { transform: scale(1.1); }
        .ethics-quiz button {
            display: block; width: 100%; margin-bottom: var(--space-sm); background: var(--lego-blue);
        }
        .ethics-quiz button:hover { background: var(--lego-green); }

        .footer {
            background: var(--lego-black); padding: var(--space-lg); text-align: center;
            color: var(--text-on-dark); margin-top: var(--space-xl); font-size: 0.95rem;
        }
        .footer p { margin-bottom: var(--space-xs);}
        .footer a { color: var(--lego-yellow); text-decoration: none; font-weight: 600;}
        .footer a:hover { text-decoration: underline; color: var(--lego-orange); }
        
        .modal {
            display: none; position: fixed; z-index: 2000; left: 0; top: 0;
            width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.7);
            align-items: center; justify-content: center; backdrop-filter: blur(5px);
        }
        .modal-content {
            background-color: var(--lego-white); margin: auto; padding: var(--space-xl);
            border: 5px solid var(--lego-yellow); border-radius: var(--border-radius-lg);
            width: 90%; max-width: 650px; text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); position: relative;
            animation: slideDown 0.5s cubic-bezier(0.165, 0.840, 0.440, 1.000);
        }
        @keyframes slideDown { from {transform: translateY(-50px); opacity:0;} to {transform: translateY(0); opacity:1;} }
        .modal-close-btn {
            color: var(--lego-red); font-size: 2.2rem; font-weight: bold;
            position: absolute; top: var(--space-sm); right: var(--space-md);
            cursor: pointer; transition: transform 0.2s;
        }
        .modal-close-btn:hover, .modal-close-btn:focus { transform: scale(1.2); }
        .modal h2 { font-family: var(--font-title); color: var(--lego-blue); margin-bottom: var(--space-md); font-size: 2.5rem;}
        .modal p { font-size: 1.1rem; line-height: 1.8; color: var(--text-secondary); }
        .modal svg { width: 150px; margin-bottom: var(--space-md); animation: kukiri-float 4s ease-in-out infinite;}

        /* Responsive adjustments */
        @media (max-width: 992px) {
            .hero-section { grid-template-columns: 1fr; text-align: center; }
            .kukiri-container { order: -1; margin-bottom: var(--space-lg); }
            .learning-box { grid-template-columns: 1fr; }
        }
        @media (max-width: 768px) {
            .missions-grid { grid-template-columns: 1fr; }
            .ai-demo-area { padding: var(--space-lg); }
            .ai-demo-area .demo-controls { flex-direction: column; }
            .ai-demo-area .demo-controls button, 
            .ai-demo-area .demo-controls input,
            .ai-demo-area .demo-controls textarea { width: 100%; }
            .regression-controls input[type="number"] { width: 100%; }
            .chat-interface { height: 400px; }
            .chat-messages { font-size: 0.95rem; }
            .message { max-width: 90%; }
        }
        @media (max-width: 480px) {
            .header h1 { font-size: 1.9rem; letter-spacing: 1px;}
            .section { padding: var(--space-md); }
            .hero-content .hero-title { font-size: 2.2rem; }
            .hero-description { font-size: 1rem; }
            .cta-btn { font-size: 1rem; padding: var(--space-sm) var(--space-md); }
            .section-title { font-size: 1.8rem; }
            .mission-title { font-size: 1.4rem; }
            .mission-title .chapter-no { font-size: 1.6rem; }
            .mission-description { font-size: 0.9rem; }
            .mission-btn { font-size: 1rem; }
            .modal-content { padding: var(--space-lg); }
            .modal h2 { font-size: 2rem; }
            .modal p { font-size: 0.95rem; }
            .python-code-input { height: 200px; }
            .python-output, .demo-output { font-size: 0.8rem; }
            #regressionPlot { height: 250px; }
        }

        /* Maze specific styles for B2 & B20 */
        .maze-container {
            border: 3px solid var(--lego-blue);
            background-color: #f0f0f0;
            display: block;
            margin: var(--space-md) auto;
            position: relative;
            overflow: hidden;
            max-width: 400px; /* Ensure canvas stays within limits */
            max-height: 400px;
        }
        .maze-stats {
            display: flex; justify-content: space-around; gap: var(--space-md);
            margin-bottom: var(--space-md);
            font-size: 1.1rem; font-weight: bold;
            color: var(--lego-black);
        }
        .maze-stats div {
            background: var(--lego-yellow);
            padding: var(--space-sm) var(--space-md);
            border-radius: var(--border-radius-sm);
            border: 2px solid var(--lego-black);
        }
        #mazeCanvas, #spaceCanvas {
            display: block;
            width: 100%; /* Make canvases responsive */
            height: auto;
        }
        .kukiri-player {
            position: absolute;
            width: 40px; height: 40px;
            background-color: var(--lego-orange);
            border: 2px solid var(--lego-black);
            border-radius: 50%;
            text-align: center;
            line-height: 36px;
            font-weight: bold;
            color: white;
            transition: top 0.1s linear, left 0.1s linear; /* Smooth movement */
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
        }
        .space-object.asteroid { background-color: var(--lego-dark-gray); border-radius: 50%;}
        .space-object.target { background-color: var(--lego-green); border-radius: 50%;}


        /* Generative AI specific styles for B3 & B18 */
        #poemOutput, #pixelArtCanvas {
            background: var(--lego-white);
            border: 2px dashed var(--lego-purple);
            padding: var(--space-lg);
            min-height: 150px;
            border-radius: var(--border-radius);
            font-family: 'Georgia', serif;
            font-style: italic;
            text-align: center;
            margin-bottom: var(--space-lg);
            white-space: pre-wrap;
            color: var(--text-primary);
            box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
        }
        #pixelArtCanvas {
            border: 2px solid var(--lego-blue);
            background-color: #000;
            image-rendering: pixelated; /* For crisp pixels */
            display: block;
            margin: var(--space-md) auto;
            min-height: 200px;
            padding: 0;
            max-width: 400px; /* Ensure it's responsive but not too big */
            height: 300px; /* Fixed height for consistent pixel grid */
        }

        #poemOutput h5 {
            font-family: var(--font-subtitle);
            color: var(--lego-red);
            margin-bottom: var(--space-sm);
            font-size: 1.3rem;
        }
        #genAIOptions {
            display: flex; justify-content: center; gap: var(--space-md); flex-wrap: wrap;
        }
        #genAIOptions button {
            background: var(--lego-purple);
            box-shadow: 0 4px 0px #6A0DAD;
        }
        #genAIOptions button:hover {
            background: #6A0DAD;
            box-shadow: 0 6px 0px #4B0082;
        }

        /* CNN Simulation specific styles for B4 */
        #filterOutputCanvas {
            border: 3px solid var(--lego-black);
            background-color: #333;
            display: block;
            margin: var(--space-md) auto;
            width: 100%;
            max-width: 500px;
        }
        .filter-controls {
            display: flex; justify-content: center; gap: var(--space-md); flex-wrap: wrap;
            margin-bottom: var(--space-lg);
        }
        .filter-controls button {
            background: var(--lego-blue);
            box-shadow: 0 4px 0px #0041a3;
        }
        .filter-controls button:hover {
            background: #0041a3;
            box-shadow: 0 6px 0px #002D73;
        }

        /* New AI Modules (17-20) specific styles */
        #sentimentOutput {
            font-size: 1.2rem;
            font-weight: bold;
            text-align: center;
            padding: var(--space-md);
            border-radius: var(--border-radius);
            margin-top: var(--space-md);
            transition: background-color 0.5s ease;
        }
        .sentiment-positive { background-color: #e8f5e9; color: var(--lego-green); border: 2px solid var(--lego-green); }
        .sentiment-negative { background-color: #ffebee; color: var(--lego-red); border: 2px solid var(--lego-red); }
        .sentiment-neutral { background-color: #e0f2f7; color: var(--lego-blue); border: 2px solid var(--lego-blue); }

        /* Number Guessing Styles (B19) */
        #numberGuessingContainer {
            text-align: center;
            padding: var(--space-lg);
            border: 2px dashed var(--lego-purple);
            border-radius: var(--border-radius);
            max-width: 500px;
            margin: var(--space-md) auto;
            background-color: var(--lego-white);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        #numberGuessingContainer input[type="number"] {
            width: 80px;
            padding: var(--space-sm);
            border: 2px solid var(--lego-dark-gray);
            border-radius: var(--border-radius-sm);
            font-size: 1.1rem;
            text-align: center;
            margin-right: var(--space-sm);
        }
        #numberGuessingOutput {
            margin-top: var(--space-md);
            font-size: 1.1rem;
            min-height: 50px;
            color: var(--lego-black);
        }
        #guessCount {
            font-weight: bold;
            color: var(--lego-blue);
            margin-top: var(--space-sm);
        }

        /* B22: Drawing Canvas specific styles */
        #drawingCanvas {
            border: 2px solid var(--lego-brown);
            background-color: #f0f0f0;
            display: block;
            margin: var(--space-md) auto;
            max-width: 400px; 
            height: 300px; 
            border-radius: var(--border-radius);
            box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
        }

        /* B23: Video Simulation specific styles */
        #videoSimulationText {
            background: var(--lego-white);
            border: 2px dashed var(--lego-light-blue);
            padding: var(--space-lg);
            min-height: 150px;
            border-radius: var(--border-radius);
            font-family: var(--font-primary);
            text-align: left;
            margin-bottom: var(--space-lg);
            white-space: pre-wrap;
            color: var(--text-primary);
            box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
            overflow-y: auto;
            max-height: 300px;
        }

    </style>
</head>
<body>
    <div class="particles" id="particles-background"></div>

    <header class="header">
        <h1><span class="rocket-icon">🚀</span> KUKİRİ'NİN YAPAY ZEKA ATÖLYESİ</h1>
        <p class="subtitle">AI'Han ile kodun ve zekânın sırlarını keşfet, geleceği sen inşa et!</p>
    </header>

    <div class="main-container">
        <section class="hero-section section">
            <div class="hero-content">
                <h2 class="hero-title">BİR KÖYDEN KODLARA: AI'HAN'IN HİKAYESİ</h2>
                <p class="hero-description">
                    Her şey, Zonguldak'ın küçük bir köyünde yaşayan **Ayhan** adında meraklı bir çocuğun hayaliyle başladı. O, dedesinin elektronik aletlerle dolu odası ile babasının marangoz atölyesi arasında büyüdü. Aklında tek bir soru vardı: "Bir robot düşünmeyi öğrenebilir mi?"
                    <br><br>
                    Yıllar sonra, eski bir kamera, lamba pervanesi ve mikser motoruyla hayalini gerçekleştirdi: **Kukiri** doğdu! Uçan, konuşan ve öğrenen bu minik robot kuşla birlikte çıktığı bu yolda, o artık yalnızca Ayhan değil, **AI'Han**'dı; zekânın yolculuğuna çıkan çocuk!
                </p>
                <div class="cta-buttons">
                    <a href="#missions-title" class="cta-btn primary">
                        <i class="fas fa-bolt"></i> MACERA BAŞLASIN!
                    </a>
                    <button class="cta-btn secondary" onclick="openModal('kukiriInfoModal')">
                        <i class="fas fa-robot"></i> KUKİRİ'Yİ TANI!
                    </button>
                </div>
            </div>
            <div class="kukiri-container">
                <svg id="kukiri-mascot" width="200" height="200" viewBox="0 0 200 200">
                    <circle id="kukiri-svg-body" cx="100" cy="100" r="60" />
                    <path id="kukiri-svg-wing-left" d="M 40 80 Q 20 60 40 40 L 60 60 Q 50 70 60 80 Z" />
                    <path id="kukiri-svg-wing-right" d="M 160 80 Q 180 60 160 40 L 140 60 Q 150 70 140 80 Z" />
                    <circle id="kukiri-svg-eye" cx="120" cy="80" r="15" />
                    <circle id="kukiri-svg-pupil" cx="125" cy="78" r="5" />
                    <path id="kukiri-svg-beak" d="M 130 90 L 150 95 L 130 100 Z" />
                    <g id="kukiri-svg-propeller" transform="translate(100, 40)">
                        <rect id="kukiri-svg-propeller-blade" x="-5" y="-30" width="10" height="30" rx="3" />
                        <rect id="kukiri-svg-propeller-blade" x="-5" y="-30" width="10" height="30" rx="3" transform="rotate(90)" />
                        <rect id="kukiri-svg-propeller-blade" x="-5" y="-30" width="10" height="30" rx="3" transform="rotate(180)" />
                        <rect id="kukiri-svg-propeller-blade" x="-5" y="-30" width="10" height="30" rx="3" transform="rotate(270)" />
                        <circle id="kukiri-svg-propeller-base" cx="0" cy="0" r="8" />
                    </g>
                </svg>
            </div>
        </section>

        <section class="section" id="missions">
            <h2 class="section-title" id="missions-title">🎯 AI'HAN VE KUKİRİ'NİN MACERA HARİTASI</h2>
            <p class="demo-intro-text">Hazır mısın kaşif? Bu 16 bölümlük serüvende Python'un temellerinden yapay zekânın derinliklerine uzanan bir yolculuğa çıkacaksın. Her bölüm, AI'Han ve Kukiri'nin hikayesinden bir parça ve senin için yeni bir görev demek!</p>
            
            <h3 class="section-title" style="font-size: 2rem; color: var(--lego-green); margin-top: var(--space-xl);">BÖLÜM 1–12: PYTHON ÖĞRENİYORUZ – KODUN YOLCULUĞU</h3>
            <div class="missions-grid">
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-lightbulb" style="color: var(--lego-yellow);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 1</span>Kodun Doğuşu</h3>
                        <p class="mission-story">AI'Han, Kukiri ile ilk kez kodlarla konuşur ve gizemli bir sinyal alırlar.</p>
                        <p class="mission-description">**Algoritmik düşünmenin temeli:** Adım adım işlem dizileriyle bilgisayara görev vermeyi öğren. "Kahve yapma algoritması" adımlarını sıralayıp animasyonlaştır.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum1Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-keyboard" style="color: var(--lego-red);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 2</span>Kukiri’ye İlk Komut</h3>
                        <p class="mission-story">Kukiri, içinde gizli bir mesaj olan bilgi küresini bulur ve onu çözmek için verileri anlamaları gerekir.</p>
                        <p class="mission-description">**Bilgisayara bir şey söylemeyi öğrenme:** `print` komutu ve yorum satırlarını (`#`) kullanarak Kukiri'ye basit komutlar ver.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum2Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-box" style="color: var(--lego-blue);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 3</span>Bilgi Kutuları</h3>
                        <p class="mission-story">AI'Han, kadim zekâların olduğu bir meclise seçilir ve metinlerin gücünü keşfeder.</p>
                        <p class="mission-description">**Değişkenler ve veri türleri:** Değer saklama kutularını ve onların türlerini (sayı, metin, boolean) öğren. "Kukiri hakkında bilgi yaz" (isim, yaş, uçuyor mu?) görevini tamamla.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum3Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-list-ul" style="color: var(--lego-green);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 4</span>Kukiri’nin Hafızası</h3>
                        <p class="mission-story">AI'Han, bir kod labirentinde yolları ve engelleri bir listede tutarak ilerler.</p>
                        <p class="mission-description">**Listeler & Tuple:** Sıralı verileri saklama ve erişim yöntemlerini öğren. "Görev listesi" oluştur ve içinden elemanları göster.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum4Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-tree" style="color: var(--lego-orange);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 5</span>Karar Ağacı</h3>
                        <p class="mission-story">Kahramanlarımız, kodun içindeki bilgiden doğan yeni zekâ dostları ALP-1K'yı aktif eder.</p>
                        <p class="mission-description">**`if/else` yapısı:** Koşullu düşünme mantığını öğren. Kukiri'yi rüzgârlı günlerde uçurmamayı öğreten kodu yaz.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum5Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-redo-alt" style="color: var(--lego-purple);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 6</span>Sonsuz Döngü</h3>
                        <p class="mission-story">Kukiri, bozuk veriler yüzünden çöker ve AI'Han onu döngülerle kurtarmaya çalışır.</p>
                        <p class="mission-description">**`for/while` döngüleri:** Tekrar eden görevleri verimli bir şekilde çözmeyi öğren. "5 kez kanat çırp" görevini kodla.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum6Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-cog" style="color: var(--lego-blue);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 7</span>Kukiri Fonksiyon Yazıyor</h3>
                        <p class="mission-story">Bir kod fırtınası başlar ve AI'Han, özel görevler için yeniden kullanılabilir kod blokları (fonksiyonlar) yazar.</p>
                        <p class="mission-description">**`def` (fonksiyonlar):** Kendi komutlarını tanımlayarak kodunu daha düzenli ve tekrar kullanılabilir hale getir. `uc()` fonksiyonu yaz ve çağır.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum7Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-bug" style="color: var(--lego-red);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 8</span>Hata Yakalama</h3>
                        <p class="mission-story">Final görevinde, olası hatalara karşı hazırlıklı olmaları gerekir ve AI'Han kodunu `try/except` ile korur.</p>
                        <p class="mission-description">**`try/except` yapısı:** Hataları yakalayıp programını çökmesini engellemeyi öğren. Bozuk girişlerde Kukiri'yi kurtaran kodu yaz.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum8Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-file-alt" style="color: var(--lego-yellow);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 9</span>Kukiri’nin Günlüğü</h3>
                        <p class="mission-story">Ekip, kayıp ALP-1K'nın izini sürerken, bilgileri dosyalara yazıp okumaları gerekir.</p>
                        <p class="mission-description">**Dosya işlemleri:** Verilerin kalıcılığını sağla. Kukiri için bir "günlük yaz ve yeniden oku" görevi tamamla.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum9Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-hourglass-half" style="color: var(--lego-green);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 10</span>Zaman ve Rasgelelik</h3>
                        <p class="mission-story">Zamanla yarışılan bir arenada AI'Han, rastgele görevler ve matematiksel zorluklarla karşılaşır.</p>
                        <p class="mission-description">**`random`, `datetime` modülleri:** Zamanla ve belirsizlikle kod üretme yeteneği kazan. "Rasgele görev ver, zamanla yarış" görevini kodla.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum10Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-book" style="color: var(--lego-orange);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 11</span>Kukiri'nin Kütüphanesi</h3>
                        <p class="mission-story">Kukiri artık bilgileri etiketleyerek (sözlük) saklayabilir ve kendi veri yapısına (sınıf) kavuşur.</p>
                        <p class="mission-description">**Sözlükler ve `class`:** Anahtar-değer mantığını ve nesne tabanlı programlamayı öğren. Kukiri sınıfı oluştur, özelliklerini sakla.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum11Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-calculator" style="color: var(--lego-purple);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 12</span>Zeka Denklemleri</h3>
                        <p class="mission-story">Ankara'nın Beş Tepesi'nde geçen görevde ekip, etiketli verilerle bir modeli eğitir.</p>
                        <p class="mission-description">**Basit matematik & mantık operatörleri:** Karşılaştırma, hesaplama ve mantık kurallarını kullanarak karmaşık problemleri çöz. "Kukiri'nin bataryasını kontrol et (> 30%)" görevini tamamla.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum12Demo')">ATÖLYEYİ AÇ!</button>
                </div>
            </div>

            <h3 class="section-title" style="font-size: 2rem; color: var(--lego-red); margin-top: var(--space-xl);">BÖLÜM 13–20: YAPAY ZEKÂ ÖĞRENİYORUZ – ZEKÂNIN ŞAFAĞI</h3>
            <div class="missions-grid">
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-brain" style="color: var(--lego-purple);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 13</span>Yapay Zekâ Nedir?</h3>
                        <p class="mission-story">Kukiri, kendi kodlarının "öğrenme" yeteneği olduğunu fark eder ve yapay zekânın ne olduğunu sorgular.</p>
                        <p class="mission-description">**AI temel kavramları:** Algoritma – model – veri ilişkisini anlam. Sürükle-bırak benzeri algoritma oluşturma simülasyonunu dene.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum13Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-user-check" style="color: var(--lego-green);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 14</span>Öğrenen Kukiri</h3>
                        <p class="mission-story">Ankara'nın Beş Tepesi'nde geçen görevde ekip, etiketli verilerle bir modeli eğitir.</p>
                        <p class="mission-description">**Denetimli öğrenme:** Etiketli veri ile sınıflandırma yapmayı öğren. Renk butonlarıyla Kukiri'yi eğit, Kukiri tahmin etsin!</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum14Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-comment-dots" style="color: var(--lego-blue);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 15</span>Kukiri ile Gör ve Konuş</h3>
                        <p class="mission-story">Zekâlar Meclisi'nde ekip, bilgisayarların metinleri ve görüntüleri nasıl anladığını öğrenir.</p>
                        <p class="mission-description">**NLP & CV:** Görsel ve metin anlama yeteneklerini keşfet. Kamera açıp Kukiri'nin seni "tanımasını" ve seninle konuşmasını dene.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum15Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-balance-scale" style="color: var(--lego-black);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">Bölüm 16</span>Zekânın Vicdanı</h3>
                        <p class="mission-story">AI'Han, yanlış verilerle eğitilmiş "Karanlık Algoritma" ile yüzleşir ve yapay zekâda etiğin önemini anlar.</p>
                        <p class="mission-description">**AI Etiği:** Yanlılık, adalet ve sorumluluk gibi kritik etik senaryoları tartış. Mini bir quiz ile bilgini test et.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum16Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-smile-beam" style="color: var(--lego-orange);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">B17</span>Kukiri'nin Duyguları</h3>
                        <p class="mission-story">Kukiri, metinlerdeki gizli duyguları keşfeder ve AI'Han'ın notlarındaki ruh halini anlamaya çalışır.</p>
                        <p class="mission-description">**Duygu Analizi (Sentiment Analysis):** Metinlerdeki duygu tonunu (olumlu/olumsuz/nötr) anlamayı öğren. Kukiri'ye bir cümle yaz, Kukiri cümlenin "duygusal" puanını tahmin etsin.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum17Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-paint-brush" style="color: var(--lego-pink);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">B18</span>Sanatçı Kukiri</h3>
                        <p class="mission-story">Kukiri, kodların sadece mantık değil, aynı zamanda sanat da üretebileceğini fark eder ve piksel sanatına başlar.</p>
                        <p class="mission-description">**Üretken Görsel Yapay Zekâ:** Metinden veya basit fırça darbelerinden nasıl yeni görseller oluşturulduğunu kavra. Kukiri'den anahtar kelimelerle basit bir piksel sanatı çizmesini iste.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum18Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-chart-line" style="color: var(--lego-purple);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">B19</span>Kukiri'nin Gelecek Tahmini</h3>
                        <p class="mission-story">AI'Han ve Kukiri, eski verilere bakarak gelecekteki hava durumunu tahmin etmeye çalışır.</p>
                        <p class="mission-description">**Tahminsel Yapay Zekâ (Regresyon):** Makinelerin sayısal değerler (fiyat, sıcaklık vb.) tahmin ettiğini anla. Geçmiş hava sıcaklıklarını gir, Kukiri bir sonraki günün sıcaklığını tahmin etsin.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum19Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-rocket" style="color: var(--lego-brown);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">B20</span>Kukiri'nin Uzay Macerası</h3>
                        <p class="mission-story">Kukiri, bilinmeyen bir galaksiden kaybolur ve pekiştirmeli öğrenmeyle güvenli yolu bulmak zorundadır.</p>
                        <p class="mission-description">**Gelişmiş Pekiştirmeli Öğrenme:** Daha karmaşık ortamlarda ajanların nasıl en iyi yolu bulduğunu deneyimle. Kukiri'yi bir uzay gemisi gibi kontrol et, hedefe ulaşmaya çalışırken öğrenmesini izle.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum20Demo')">ATÖLYEYİ AÇ!</button>
                </div>
            </div>
            
            <h3 class="section-title" style="font-size: 2rem; color: var(--lego-red); margin-top: var(--space-xl);">YENİ KEŞİFLER YOLDA...</h3>
            <div class="missions-grid">
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-music" style="color: var(--lego-pink);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">B21</span>Kukiri Müzik Yapıyor</h3>
                        <p class="mission-story">Kukiri'ye biraz ilham verin, size özel melodiler oluştursun!</p>
                        <p class="mission-description">**Üretken Yapay Zeka (Generative AI) Atölyesi** Kukiri'nin üretebileceği müzik türlerini keşfedin.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum21Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-palette" style="color: var(--lego-brown);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">B22</span>Kukiri Resim Yapabiliyor</h3>
                        <p class="mission-story">Hayalinizdeki resmi tarif edin, Kukiri sizin için çizsin!</p>
                        <p class="mission-description">**Üretken Yapay Zeka (Generative AI) Atölyesi** Kukiri'nin görsel dünyasını keşfedin.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum22Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-video" style="color: var(--lego-light-blue);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">B23</span>Kukiri Yönetmen Oldu!</h3>
                        <p class="mission-story">Senaryoyu yazın, Kukiri kısa bir video klip oluştursun!</p>
                        <p class="mission-description">**Üretken Yapay Zeka (Generative AI) Atölyesi** Kukiri'nin yönetmenlik yeteneklerini keşfedin.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum23Demo')">ATÖLYEYİ AÇ!</button>
                </div>
                <div class="mission-card">
                    <div class="mission-icon"><i class="fas fa-code" style="color: var(--lego-orange);"></i></div>
                    <div class="mission-content">
                        <h3 class="mission-title"><span class="chapter-no">B24</span>Kukiri Developer-Geliştirici Kukiri kod yazıyor geliştiriyor!</h3>
                        <p class="mission-story">Basit bir görev tanımlayın, Kukiri sizin için temel kodları yazsın!</p>
                        <p class="mission-description">**Üretken Yapay Zeka (Generative AI) Atölyesi** Kukiri'nin geliştirici yönünü keşfedin.</p>
                    </div>
                    <button class="mission-btn" onclick="openAIDemo('bolum24Demo')">ATÖLYEYİ AÇ!</button>
                </div>
            </div>
        </section>

        <div id="bolum1Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 1: Kodun Doğuşu - Kahve Algoritması</h3>
            <p class="demo-intro-text mb-md">Bir bilgisayarın bir işi yapması için adım adım talimatlara ihtiyacı vardır, buna algoritma denir! Aşağıdaki "Kahve Yap" butonuna basarak Kukiri'nin kahve yapma algoritmasını izle.</p>
            <div class="demo-controls">
                <button onclick="runAlgorithm('bolum1Output')"><i class="fas fa-mug-hot"></i> Kahve Yap</button>
            </div>
            <div id="bolum1Output" class="demo-output"></div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vız vız! Bir algoritma, bir tarife benzer. Her adım açıkça belirtilmelidir, yoksa bilgisayar kafası karışır!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Algoritma**, bir görevi tamamlamak için adım adım talimatlar dizisidir. Bilgisayarlar her şeyi algoritmalarla yapar.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum2Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 2: Kukiri’ye İlk Komut</h3>
            <p class="demo-intro-text mb-md">Kodlama dünyasına ilk adımını `print()` komutu ile at. Ekrana farklı şekillerde mesajlar yazdır ve `#` sembolü ile koduna notlar ekle.</p>
            <div class="python-ide">
                <textarea id="pythonCodeInput2" class="python-code-input"># Kukiri'ye merhaba diyelim!
print("Merhaba Kukiri!")    
# Kukiri'nin yeni bir yeteneğini duyuralım
print("Benim adım Kukiri, uçabilirim!")
# Yorum satırı: Bu satır kod değildir, sadece geliştirici için nottur.
# Aşağıdaki print komutu ile kukiri'nin rengini söyleyelim.
print("Rengim rengarenk!")
</textarea>
                <button class="demo-controls" onclick="runPythonCode('2')"><i class="fas fa-play"></i> Kodu Çalıştır</button>
                <div id="pythonOutput2" class="python-output">Çıktı burada görünecek...</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vız vız! `print()` komutu, bilgisayarın konuşmasını sağlar. Tırnak `"` içine ne yazarsan, onu söyler! `#` ile yazdığın her şeyi bilgisayar görmezden gelir. Bu senin defterin gibi!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: `print()` ile ekrana yazı yazdırmayı ve `#` ile koduna kendin için notlar bırakmayı (**yorum satırı**).</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>
        
        <div id="bolum3Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 3: Bilgi Kutuları</h3>
            <p class="demo-intro-text mb-md">**Değişkenler**, bilgileri sakladığımız kutulardır. Metin (string), tam sayı (integer), ondalıklı sayı (float) ve mantıksal (boolean) değerleri nasıl kullanacağımızı öğrenelim. Kukiri hakkında bilgi yaz!</p>
            <div class="python-ide">
                <textarea id="pythonCodeInput3" class="python-code-input"># Kukiri hakkında bilgi kutuları oluşturalım (Değişkenler)
kukiri_adi = "Kukiri"        # Metin (String)
kukiri_yasi = 1              # Tam Sayı (Integer)
kukiri_hizi_mps = 5.7        # Ondalıklı Sayı (Float)
kukiri_ucabiliyor_mu = True # Mantıksal (Boolean)
# Bilgi kutularındaki bilgileri ekrana yazdıralım
print("Kukiri'nin Adı:", kukiri_adi)
print("Kukiri'nin Yaşı:", kukiri_yasi, "yıl")
print("Kukiri'nin Hızı:", kukiri_hizi_mps, "metre/saniye")
print("Kukiri Uçabiliyor mu?", kukiri_ucabiliyor_mu)
# Bilgi kutularındaki verilerle işlem yapalım
gelecek_yas = kukiri_yasi + 1
print("Gelecek yıl Kukiri'nin yaşı:", gelecek_yas)
</textarea>
                <button class="demo-controls" onclick="runPythonCode('3')"><i class="fas fa-play"></i> Kodu Çalıştır</button>
                <div id="pythonOutput3" class="python-output">Çıktı burada görünecek...</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Bir sayıyı tırnak içine alırsan, Python onu metin sanır. `int()` veya `float()` komutlarıyla onu tekrar sayıya çevirerek matematik yapabilirsin!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Değişken tanımlamayı** (`=`), farklı **veri türlerini** (`str` metin, `int` tam sayı, `float` ondalıklı sayı, `bool` mantıksal) ve türler arası basit dönüşüm yapmayı (`int()`, `str()`).</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum4Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 4: Kukiri’nin Hafızası</h3>
            <p class="demo-intro-text mb-md">Kukiri'nin birden fazla bilgiyi aynı anda hatırlaması gerekiyor! **Listeler** ve **tuple'lar**, sıralı verileri saklamamızı sağlar. Hadi Kukiri'nin görev listesini oluşturalım ve içinden elemanları gösterelim.</p>
            <div class="python-ide">
                <textarea id="pythonCodeInput4" class="python-code-input"># Kukiri'nin görev listesi (Liste)
gorev_listesi = ["Uçuş rotasını ayarla", "Yakıt seviyesini kontrol et", "AI modülünü güncelle", "Mesajı çöz"]
print("Kukiri'nin görevleri:")
# Liste elemanlarına sıfırdan başlayarak erişiriz
print("İlk görev:", gorev_listesi[0])    
print("Son görev:", gorev_listesi[-1]) # Sondan ilk eleman
# Yeni bir görev ekleyelim
gorev_listesi.append("Verileri yedekle")
print("Güncel görevler:", gorev_listesi)
# Bir görevi tamamlayıp çıkaralım
tamamlanan_gorev = gorev_listesi.pop(0) # İlk elemanı çıkarır
print(tamamlanan_gorev, "tamamlandı!")
print("Kalan görevler:", gorev_listesi)
# Değiştirilemez veri dizisi (Tuple)
sabit_ozellikler = ("Mavi", "Metal", 150) # Renk, Malzeme, Ağırlık
print("Kukiri'nin sabit özellikleri:", sabit_ozellikler)
# sabit_ozellikler.append("Yeni") # Bu hata verir, tuple'lar değiştirilemez!
</textarea>
                <button class="demo-controls" onclick="runPythonCode('4')"><i class="fas fa-play"></i> Kodu Çalıştır</button>
                <div id="pythonOutput4" class="python-output">Çıktı burada görünecek...</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Listeler esnektir, içine istediğin zaman ekleme-çıkarma yapabilirsin. Tuple'lar ise sabit bilgiler içindir, tıpkı Kukiri'nin adı gibi, hiç değişmez!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Listeler** (`[]`) ve **tuple'lar** (`()`) ile sıralı veri saklamayı, listelere `append()` ile eleman eklemeyi ve `pop()` ile çıkarmayı.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum5Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 5: Karar Ağacı</h3>
            <p class="demo-intro-text mb-md">Kukiri bazen kararlar vermek zorunda kalır! **`if`**, **`elif`** (else if) ve **`else`** yapıları, programımızın koşullara göre farklı yollar izlemesini sağlar. Kukiri'yi rüzgârlı günlerde uçurmamayı öğreten kodu yazalım.</p>
            <div class="python-ide">
                <textarea id="pythonCodeInput5" class="python-code-input"># Rüzgar hızını kontrol edelim
ruzgar_hizi = 15 # km/saat
if ruzgar_hizi > 20:
    print("Çok rüzgârlı! Kukiri bugün uçmamalı. ⚠️")
elif ruzgar_hizi > 10:
    print("Orta derecede rüzgar var. Kukiri dikkatli uçmalı. 🌬️")
else:
    print("Hava sakin. Kukiri güvenle uçabilir! 🚀")
# Kukiri'nin batarya seviyesini kontrol et
batarya_seviyesi = 25 # yüzde
alarm_durumu = False
if batarya_seviyesi < 30:
    print("Batarya düşük! Kukiri şarj olmalı. 🔋")
    alarm_durumu = True
    if batarya_seviyesi < 10:
        print("ÇOK ACİL! Kukiri acil iniş yapmalı!")
else:
    print("Batarya seviyesi iyi. Uçuşa devam! ✅")
print("Alarm durumu:", alarm_durumu)
</textarea>
                <button class="demo-controls" onclick="runPythonCode('5')"><i class="fas fa-play"></i> Kodu Çalıştır</button>
                <div id="pythonOutput5" class="python-output">Çıktı burada görünecek...</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! `if` "Eğer bu doğruysa...", `elif` "Yok eğer bu doğruysa...", `else` ise "Hiçbiri doğru değilse..." demektir. Karar ağaçları gibi düşün!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Koşullu mantık** (`if`, `elif`, `else`) kullanarak programının farklı senaryolara göre farklı kararlar vermesini sağlamayı.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum6Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 6: Sonsuz Döngü</h3>
            <p class="demo-intro-text mb-md">Kukiri'nin aynı görevi defalarca yapması gerektiğinde ne yaparız? **Döngüler** devreye girer! `for` ve `while` döngülerini kullanarak tekrar eden görevleri verimli bir şekilde çözmeyi öğren. "5 kez kanat çırp" görevini kodla.</p>
            <div class="python-ide">
                <textarea id="pythonCodeInput6" class="python-code-input"># for döngüsü ile 5 kez kanat çırpalım
print("Kukiri kanat çırpmaya başlıyor (for döngüsü):")
for i in range(5): # range(5) 0'dan 4'e kadar sayılar üretir (toplam 5 tane)
    print(f"Kanat çırpış {i+1}!")
print("\n--- Yeni Görev: Mesaj tekrarı (while döngüsü) ---")
# while döngüsü ile bir koşul doğru olduğu sürece tekrar edelim
kalan_mesaj_sayisi = 3
while kalan_mesaj_sayisi > 0:
    print(f"{kalan_mesaj_sayisi} mesaj kaldı...")
    kalan_mesaj_sayisi = kalan_mesaj_sayisi - 1 # veya kalan_mesaj_sayisi -= 1
print("Tüm mesajlar gönderildi!")
# Bonus: Listede gezinme
gorevler = ["Veri Topla", "Analiz Et", "Raporla"]
print("\nGünlük görev raporu:")
for gorev in gorevler:
    print(f"- {gorev} tamamlandı.")
</textarea>
                <button class="demo-controls" onclick="runPythonCode('6')"><i class="fas fa-play"></i> Kodu Çalıştır</button>
                <div id="pythonOutput6" class="python-output">Çıktı burada görünecek...</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! `for` döngüsü bir şeyi "şu kadar kez yap" veya "bu listedeki her şey için yap" demektir. `while` döngüsü ise "Şu koşul doğru olduğu sürece yapmaya devam et!" demektir. Sonsuz döngüye dikkat et, yoksa Kukiri çok yorulur! 😄</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **`for`** ve **`while`** döngüleri ile **tekrar eden görevleri** otomatikleştirmeyi ve `range()` fonksiyonunu.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum7Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 7: Kukiri Fonksiyon Yazıyor</h3>
            <p class="demo-intro-text mb-md">Kukiri, karmaşık görevleri daha kolay yönetmek için kendi "özel komutlarını" (**fonksiyonlarını**) oluşturmaya karar verdi. **`def`** anahtar kelimesiyle kendi komutlarını tanımlayabilir ve programını daha düzenli ve güçlü hale getirebilirsin. Hadi `uc()` fonksiyonunu yaz ve çağır.</p>
            <div class="python-ide">
                <textarea id="pythonCodeInput7" class="python-code-input"># Kukiri'nin özel komutunu (fonksiyonunu) tanımlayalım
def uc():
    print("Kukiri havalanıyor! 🚀")
    print("Kanatlar çırpılıyor...")
    print("Yükseklerde süzülüyor!")
# Fonksiyonu çağıralım (Kukiri'ye komut verelim)
print("AI'Han: Kukiri, uç!")
uc()
print("\n--- Yeni Görev: Parametrelerle fonksiyonlar ---")
# İsim parametresi alan bir selamlama fonksiyonu
def selamla(isim):
    print(f"Merhaba, {isim}! Kukiri seni selamlar.")
selamla("Kaşif") # Fonksiyonu çağırırken bir isim verelim
selamla("Ayhan")
# Birden fazla parametre alan fonksiyon
def topla(sayi1, sayi2):
    sonuc = sayi1 + sayi2
    print(f"Toplam: {sonuc}")
    return sonuc # Sonucu geri döndür
print("\nMatematik görevi:")
ilk_toplam = topla(10, 20)
ikinci_toplam = topla(5, 7)
print("İki toplamın çarpımı:", ilk_toplam * ikinci_toplam)
</textarea>
                <button class="demo-controls" onclick="runPythonCode('7')"><i class="fas fa-play"></i> Kodu Çalıştır</button>
                <div id="pythonOutput7" class="python-output">Çıktı burada görünecek...</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Fonksiyonlar, bir tarifi bir kez yazıp defalarca kullanmak gibidir. `def` ile tarifini yaz, sonra sadece ismini söyleyerek çalıştır!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **`def`** anahtar kelimesiyle **fonksiyon tanımlamayı**, fonksiyonları **parametrelerle** kullanmayı ve `return` ile değer döndürmeyi.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum8Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 8: Hata Yakalama</h3>
            <p class="demo-intro-text mb-md">Bazen programlarımızın çalışması sırasında beklenmedik durumlar veya hatalar oluşabilir. **`try`** ve **`except`** blokları, bu hataları programının çökmesini engellemek için yakalamamızı sağlar. Hadi bozuk girişlerde Kukiri'yi kurtaran kodu yazalım.</p>
            <div class="python-ide">
                <textarea id="pythonCodeInput8" class="python-code-input"># Kullanıcıdan bir sayı girişi isteyelim
try:
    kullanici_sayisi = input("Bir sayı giriniz: ")
    sayi = int(kullanici_sayisi) # Metni sayıya çevirmeye çalış
    sonuc = 100 / sayi
    print(f"Girdiğiniz sayının 100'e bölümü: {sonuc}")
except ValueError:
    print("Hata! Lütfen geçerli bir tam sayı girin. 🔢")
except ZeroDivisionError:
    print("Hata! Bir sayıyı sıfıra bölemezsin! 🚫")
except Exception as e: # Diğer tüm hataları yakalamak için genel bir except
    print(f"Beklenmeyen bir hata oluştu: {e} 🐛")
finally:
    print("İşlem tamamlandı. Kukiri her zaman tetikte! 🤖")
print("\n--- Kukiri'nin acil durum raporu ---")
veri_kaydi = ["enerji", "sıcaklık", "basınç"]
try:
    print("Son veri:", veri_kaydi[3]) # Hata verecek: Dizin sınırı dışında
except IndexError:
    print("Kukiri: 'Bu veri kaydı mevcut değil AI'Han! Dizin hatası.'")
</textarea>
                <button class="demo-controls" onclick="runPythonCode('8')"><i class="fas fa-play"></i> Kodu Çalıştır</button>
                <div id="pythonOutput8" class="python-output">Çıktı burada görünecek...</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! `try` "Şunu yapmayı dene", `except` "Eğer hata olursa şunu yap", `finally` ise "Her durumda bunu yap" demektir. Böylece Kukiri asla panik yapmaz!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **`try`**, **`except`** ve **`finally`** bloklarıyla **hata yönetimini** yaparak programını daha sağlam hale getirmeyi. Yaygın hatalar: `ValueError`, `ZeroDivisionError`, `IndexError`.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum9Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 9: Kukiri’nin Günlüğü</h3>
            <p class="demo-intro-text mb-md">Kukiri'nin önemli bilgileri unutmaması için bir günlük tutması gerekiyor. **Dosya işlemleriyle** bilgileri bilgisayara yazıp daha sonra okuyabiliriz. Kukiri için bir "günlük yaz ve yeniden oku" görevi tamamla.</p>
            <div class="python-ide">
                <textarea id="pythonCodeInput9" class="python-code-input"># Kukiri'nin günlüğüne bir şeyler yazalım
gunluk_dosyasi = "kukiri_gunluk.txt"
icerik = "Bugün AI'Han ile yeni bir macera yaşadım. Hava çok güzeldi!"
# 'w' modu: Yazma (dosya yoksa oluşturur, varsa içeriğini siler)
with open(gunluk_dosyasi, "w", encoding="utf-8") as f:
    f.write(icerik)
    print(f"'{gunluk_dosyasi}' dosyasına yazıldı.")
# Günlüğü okuyalım
# 'r' modu: Okuma
with open(gunluk_dosyasi, "r", encoding="utf-8") as f:
    okunan_icerik = f.read()
    print(f"'{gunluk_dosyasi}' dosyasından okunan içerik:")
    print(okunan_icerik)
# Dosyaya ekleme yapalım
ek_icerik = "\nYeni bir sayfa daha: Yarın daha çok kod yazacağım!"
# 'a' modu: Ekleme (dosyanın sonuna ekler, mevcut içeriği korur)
with open(gunluk_dosyasi, "a", encoding="utf-8") as f:
    f.write(ek_icerik)
    print(f"'{gunluk_dosyasi}' dosyasına ekleme yapıldı.")
# Günlüğü tekrar okuyalım
with open(gunluk_dosyasi, "r", encoding="utf-8") as f:
    okunan_tum_icerik = f.read()
    print(f"\n'{gunluk_dosyasi}' dosyasının son hali:")
    print(okunan_tum_icerik)
</textarea>
                <button class="demo-controls" onclick="runPythonCode('9')"><i class="fas fa-play"></i> Kodu Çalıştır</button>
                <div id="pythonOutput9" class="python-output">Çıktı burada görünecek...</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Dosyalar Kukiri'nin uzun süreli hafızası gibidir. `w` ile yeni bir defter açar, `r` ile okur, `a` ile de yeni notlar ekler!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: Bilgilerini kalıcı hale getirmek için **dosya işlemleri** (`open()`, `write()`, `read()`) yapmayı ve `w`, `r`, `a` modlarını.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum10Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 10: Zaman ve Rasgelelik</h3>
            <p class="demo-intro-text mb-md">Kukiri, zamanla yarışılan bir arenada! Bazen **rastgele** kararlar vermesi, bazen de **zamanı** doğru kullanması gerekir. Python'un `random` ve `datetime` gibi modülleriyle koduna süper güçler kat. "Rasgele görev ver, zamanla yarış" görevini kodla.</p>
            <div class="python-ide">
                <textarea id="pythonCodeInput10" class="python-code-input">import random
import datetime
import time # sleep fonksiyonu için
# Rasgele bir görev verelim
gorevler = ["Veri topla", "Algoritma yaz", "Kod hatalarını düzelt", "Yeni özellik ekle"]
secilen_gorev = random.choice(gorevler)
print(f"Kukiri'ye rasgele verilen görev: '{secilen_gorev}'")
# Rasgele bir sayı üretelim
rasgele_sayi = random.randint(1, 100) # 1 ile 100 arasında bir tam sayı
print(f"Gizli sayı: {rasgele_sayi}")
# Şu anki zamanı alalım
simdi = datetime.datetime.now()
print(f"\nŞu anki zaman: {simdi.strftime('%Y-%m-%d %H:%M:%S')}")
# Bir sonraki göreve kalan zamanı hesaplayalım (simülasyon)
hedef_zaman = simdi + datetime.timedelta(minutes=2, seconds=30)
print(f"Hedef zaman: {hedef_zaman.strftime('%H:%M:%S')}")
# Zamanla yarış simülasyonu
print("\n--- Geri Sayım Başlıyor! ---")
for i in range(3, 0, -1):
    print(f"{i}...")
    time.sleep(1) # 1 saniye bekleyelim
print("Süre doldu! Görev Başla!")
</textarea>
                <button class="demo-controls" onclick="runPythonCode('10')"><i class="fas fa-play"></i> Kodu Çalıştır</button>
                <div id="pythonOutput10" class="python-output">Çıktı burada görünecek...</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! `random` ile şanslı Kukiri olursun, tahmin oyunları yapabilirsin. `datetime` ile Kukiri saati hep bilir, randevuları kaçırmaz!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: `random` modülü ile **rasgele sayılar ve seçimler** yapmayı, `datetime` modülü ile **zaman ve tarih** işlemleri yapmayı.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum11Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 11: Kukiri'nin Kütüphanesi</h3>
            <p class="demo-intro-text mb-md">Kukiri artık bilgileri etiketleyerek (**sözlük**) saklayabilir ve kendi veri yapısına (**sınıf**) kavuşur. Sözlükler (`dict`) ve sınıflar (`class`) ile daha karmaşık veri yapıları oluşturmayı öğren.</p>
            <div class="python-ide">
                <textarea id="pythonCodeInput11" class="python-code-input"># Kukiri'nin özelliklerini bir sözlükte saklayalım
kukiri_ozellikleri = {
    "isim": "Kukiri",
    "tip": "Robot Kuş",
    "renk": "Mavi-Sarı",
    "enerji_seviyesi": 95,
    "gorevler": ["Keşif", "Veri Analizi"]
}
print("Kukiri'nin Özellikleri:")
print(f"İsim: {kukiri_ozellikleri['isim']}")
print(f"Enerji Seviyesi: {kukiri_ozellikleri.get('enerji_seviyesi')}%")
# Yeni özellik ekleyelim veya güncelleyelim
kukiri_ozellikleri["enerji_seviyesi"] = 80
kukiri_ozellikleri["durum"] = "Uçuyor"
print(f"Güncel Durum: {kukiri_ozellikleri['durum']}")
print("\n--- Kendi Kukiri Sınıfımızı Oluşturalım! ---")
# Kukiri için bir sınıf (blueprint) tanımlayalım
class KukiriRobot:
    def __init__(self, isim, renk, pil_kapasitesi):
        self.isim = isim
        self.renk = renk
        self.pil = pil_kapasitesi
        self.konum = "Üs"
        
    def ucus_yap(self, mesafe):
        if self.pil > 10:
            self.pil -= (mesafe / 10)
            self.konum = "Görevde"
            print(f"{self.isim} {mesafe} km uçtu. Kalan pil: {self.pil:.1f}%")
        else:
            print(f"{self.isim} pil düşük, uçamıyor!")
    def sarj_et(self):
        self.pil = 100
        print(f"{self.isim} tamamen şarj oldu!")
# Kukiri sınıfından bir nesne (Kukiri) oluşturalım
benim_kukirim = KukiriRobot("AI_Kukiri", "Mavi", 100)
print(f"Yeni Kukiri oluşturuldu: {benim_kukirim.isim}, Renk: {benim_kukirim.renk}, Pil: {benim_kukirim.pil}%")
benim_kukirim.ucus_yap(50)
benim_kukirim.ucus_yap(80)
benim_kukirim.sarj_et()
benim_kukirim.ucus_yap(20)
</textarea>
                <button class="demo-controls" onclick="runPythonCode('11')"><i class="fas fa-play"></i> Kodu Çalıştır</button>
                <div id="pythonOutput11" class="python-output">Çıktı burada görünecek...</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Sözlükler, eşyalarını etiketleyip çekmecelere koymak gibidir (anahtar-değer). Sınıflar ise Kukiri gibi robotlar için bir tarif defteri gibidir: Hangi özellikleri var, neler yapabilirler? Sonra o tariften istediğin kadar Kukiri yapabilirsin!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Sözlükler** (`dict`) ile anahtar-değer çiftleri halinde veri saklamayı ve **sınıflar** (`class`) ile nesne tabanlı programlamanın temellerini.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum12Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 12: Zeka Denklemleri</h3>
            <p class="demo-intro-text mb-md">Kukiri'nin matematik ve mantık yapabilmesi çok önemli! Basit toplama, çıkarma, çarpma, bölme gibi **matematiksel** işlemleri ve `==` (eşit mi), `>` (büyük mü), `<` (küçük mü), `and` (ve), `or` (veya) gibi **mantık operatörlerini** kullanarak karmaşık problemleri çöz. "Kukiri'nin bataryasını kontrol et (> 30%)" görevini tamamla.</p>
            <div class="python-ide">
                <textarea id="pythonCodeInput12" class="python-code-input"># Matematiksel işlemler
batarya_maks = 100
batarya_su_an = 75
sarj_miktari = 15
# Toplama
yeni_batarya = batarya_su_an + sarj_miktari
print(f"Yeni batarya seviyesi (şarj sonrası): {yeni_batarya}%")
# Çıkarma
kalan_pil = batarya_maks - yeni_batarya
print(f"Kalan pil kapasitesi: {kalan_pil}%")
# Çarpma ve Bölme
ucus_suresi = 2.5 # saat
pil_tuketimi_saatlik = 10 # %
tuketilen_pil = ucus_suresi * pil_tuketimi_saatlik
print(f"{ucus_suresi} saat uçuşta tüketilen pil: {tuketilen_pil}%")
kalan_ucus_suresi = (yeni_batarya - tuketilen_pil) / pil_tuketimi_saatlik
print(f"Kalan batarya ile uçulabilecek ek süre: {kalan_ucus_suresi:.1f} saat")
print("\n--- Mantık Operatörleri ile Karar Verme ---")
# Kukiri'nin bataryasını kontrol et (> 30%)
kukiri_batarya = 45
hava_durumu = "güneşli"
gorev_acil = True
# Karşılaştırma operatörleri
if kukiri_batarya > 30:
    print("Kukiri'nin bataryası yeterli (%30 üzerinde).")
if hava_durumu == "güneşli" and kukiri_batarya >= 50:
    print("Mükemmel uçuş koşulları!")
elif hava_durumu == "bulutlu" or gorev_acil:
    print("Görev acil veya hava bulutlu, dikkatli ol!")
else:
    print("Uçuş için koşullar uygun değil.")
# Eşit değildir (!=)
if hava_durumu != "yağmurlu":
    print("Yağmur yok, ne güzel!")
# Küçük veya eşittir (<=)
maks_hiz_limit = 60
kukiri_hiz = 55
if kukiri_hiz <= maks_hiz_limit:
    print("Kukiri hız sınırları içinde.")
</textarea>
                <button class="demo-controls" onclick="runPythonCode('12')"><i class="fas fa-play"></i> Kodu Çalıştır</button>
                <div id="pythonOutput12" class="python-output">Çıktı burada görünecek...</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Matematik operatörleri Kukiri'ye hesap yapmayı öğretir (+, -, *, /). Mantık operatörleri (`and`, `or`, `not`) ise Kukiri'nin akıl yürütmesini sağlar, tıpkı insan gibi!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: Python'daki **matematiksel operatörleri** (`+`, `-`, `*`, `/`, `**`, `%`) ve **mantık operatörlerini** (`and`, `or`, `not`) kullanarak karşılaştırmalar yapmayı ve karmaşık denklemler kurmayı.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum13Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 13: Yapay Zekâ Nedir?</h3>
            <p class="demo-intro-text mb-md">Yapay Zekâ (AI) nedir? **Algoritma**, **model** ve **veri** arasındaki ilişkiyi anlamaya ne dersin? Aşağıdaki simülasyonda Kukiri'ye basit bir algoritmayı nasıl adım adım öğrettiğimizi göreceksin.</p>
            <div class="demo-controls">
                <button onclick="runAlgorithmSim('bolum13Output')"><i class="fas fa-microchip"></i> AI Algoritmasını Çalıştır</button>
            </div>
            <div id="bolum13Output" class="demo-output"></div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Yapay zekâ, bilgisayarların insan gibi düşünmesini ve öğrenmesini sağlayan sihirli bir kutu gibidir. Algoritma onun adımları, veri onun yiyeceği, model ise öğrendiği beceridir!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Yapay Zekâ (AI)**'nın ne olduğunu, **algoritma** (adım adım talimat), **veri** (bilgiler) ve **model** (öğrenilmiş beceri) arasındaki temel ilişkiyi.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>
        
        <div id="bolum14Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 14: Öğrenen Kukiri</h3>
            <p class="demo-intro-text mb-md">**Denetimli öğrenme** ile tanış! Kukiri'ye renkleri öğreterek onu eğitelim. Ne kadar çok öğretirsen, o kadar iyi tahmin eder. Önce renk butonlarına basarak Kukiri'yi eğit, sonra ondan tahmin yapmasını iste!</p>
            <div class="color-buttons">
                <button class="color-btn" style="background-color: var(--lego-red); color: white;" onclick="trainColor('red')">KIRMIZI</button>
                <button class="color-btn" style="background-color: var(--lego-blue); color: white;" onclick="trainColor('blue')">MAVİ</button>
                <button class="color-btn" style="background-color: var(--lego-green); color: white;" onclick="trainColor('green')">YEŞİL</button>
                <button class="color-btn" style="background-color: var(--lego-yellow);" onclick="trainColor('yellow')">SARI</button>
            </div>
            <div class="demo-controls">
                <button onclick="predictColor()"><i class="fas fa-question-circle"></i> Kukiri, Tahmin Et!</button>
                <button class="cta-btn secondary" style="background:var(--lego-orange);" onclick="resetTraining()"><i class="fas fa-undo"></i> Eğitimi Sıfırla</button>
            </div>
            <div id="mlStatus" class="status-message">Kukiri yeni renkler öğrenmeye hazır!</div>
            <div id="mlOutput" class="demo-output" style="text-align:center;">Öğrettiğin renklere göre Kukiri'nin tahmini burada görünecek.</div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>
        
        <div id="bolum15Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 15: Kukiri ile Gör ve Konuş</h3>
            <p class="demo-intro-text mb-md">Yapay zekânın iki süper gücü: **Doğal Dil İşleme (NLP)** ile Kukiri ile sohbet et ve **Bilgisayarlı Görü (CV)** ile nesneleri tanı. Seçmek istediğin modülü dene!</p>
            <div class="demo-controls">
                <button onclick="openSubDemo('nlpSubDemo')"><i class="fas fa-comments"></i> NLP: Kukiri ile Sohbet</button>
                <button onclick="openSubDemo('objectDetectionSubDemo')"><i class="fas fa-camera"></i> CV: Nesne Tanıma</button>
            </div>

            <div id="nlpSubDemo" class="chat-interface hidden">
                <div class="chat-header">
                    <div class="chat-avatar">
                        <svg width="45" height="45" viewBox="0 0 200 200">
                            <circle id="kukiri-svg-body" cx="100" cy="100" r="60" />
                            <path id="kukiri-svg-wing-left" d="M 40 80 Q 20 60 40 40 L 60 60 Q 50 70 60 80 Z" />
                            <path id="kukiri-svg-wing-right" d="M 160 80 Q 180 60 160 40 L 140 60 Q 150 70 140 80 Z" />
                            <circle id="kukiri-svg-eye" cx="120" cy="80" r="15" />
                            <circle id="kukiri-svg-pupil" cx="125" cy="78" r="5" />
                            <path id="kukiri-svg-beak" d="M 130 90 L 150 95 L 130 100 Z" />
                            <g id="kukiri-svg-propeller" transform="translate(100, 40)">
                                <rect id="kukiri-svg-propeller-blade" x="-5" y="-30" width="10" height="30" rx="3" />
                                <rect id="kukiri-svg-propeller-blade" x="-5" y="-30" width="10" height="30" rx="3" transform="rotate(90)" />
                                <rect id="kukiri-svg-propeller-blade" x="-5" y="-30" width="10" height="30" rx="3" transform="rotate(180)" />
                                <rect id="kukiri-svg-propeller-blade" x="-5" y="-30" width="10" height="30" rx="3" transform="rotate(270)" />
                                <circle id="kukiri-svg-propeller-base" cx="0" cy="0" r="8" />
                            </g>
                        </svg>
                    </div>
                    <div>
                        <div class="chat-name">Kukiri Bot</div>
                        <div class="chat-status">Çevrimiçi <i class="fas fa-circle" style="color: limegreen; font-size: 0.7em;"></i></div>
                    </div>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <div class="message kukiri">Merhaba kaşif! Benimle sohbet etmek ister misin? Nelerden hoşlanırsın?</div>
                </div>
                <div class="chat-input">
                    <input type="text" id="nlpInput" placeholder="Mesajını buraya yaz..." onkeypress="handleEnterNLP(event)">
                    <button onclick="sendMessageNLP()"><i class="fas fa-paper-plane"></i> Gönder</button>
                </div>
            </div>

            <div id="objectDetectionSubDemo" class="hidden">
                <div class="demo-controls">
                    <button id="startCamBtn" onclick="startObjectDetection()"><i class="fas fa-video"></i> Kamerayı Başlat</button>
                    <button id="stopCamBtn" onclick="stopObjectDetection()" disabled><i class="fas fa-stop-circle"></i> Kamerayı Kapat</button>
                </div>
                <div id="objDetStatus" class="status-message">Nesne tanıma modeli yükleniyor...</div>
                <div class="video-container">
                    <video id="webcamVideo" class="video-element" autoplay playsinline></video>
                    <canvas id="outputCanvas" class="output-canvas"></canvas>
                </div>
                <div id="objDetOutput" class="demo-output">Tespit edilen nesneler burada görünecek.</div>
            </div>

            <div class="learning-box mt-lg">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! NLP, Kukiri'nin kelimeleri ve cümleleri anlamasını sağlar. CV ise Kukiri'nin "gözleri"dir, nesneleri ve yüzleri tanımasına yardımcı olur!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Doğal Dil İşleme (NLP)** ile metin analizi ve sohbet, **Bilgisayarlı Görü (CV)** ile görüntü anlama ve nesne tanıma.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum16Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 16: Zekânın Vicdanı</h3>
            <p class="demo-intro-text mb-md">Yapay zekâ her zaman doğruyu söyler mi? **Önyargı**, **adalet** ve **sorumluluk** gibi önemli konuları tartışalım. Bu senaryoyu dikkatlice oku ve sence doğru olan cevabı seç.</p>
            <h4>Senaryo:</h4>
            <p class="mb-md">Bir yapay zekâ sistemi, hastanelerde ameliyatların önceliğini belirlemek için kullanılıyor. Sistem, hastaların geçmiş verilerini inceleyerek ameliyat sırasını belirliyor. Ancak sistem, geçmişte toplanan verilerde oluşan yanlılıklar nedeniyle, belirli bir demografik gruptaki hastaları sürekli olarak listenin sonuna atıyor.</p>
            <p class="mb-md">**Bu durumda, yapay zekâ sistemi için en etik yaklaşım ne olmalıdır?**</p>
            <div class="ethics-quiz">
                <button onclick="checkEthicsAnswer('A')">A) Sistemi, yanlılığı gidermek için daha fazla ve çeşitli veriyle yeniden eğitmek.</button>
                <button onclick="checkEthicsAnswer('B')">B) Sistemin algoritmasını, bu demografik grubun manuel olarak önceliklendirilmesi için ayarlamak.</button>
                <button onclick="checkEthicsAnswer('C')">C) Sistemin çıktılarını tamamen göz ardı edip, kararları sadece doktorların almasını sağlamak.</button>
                <button onclick="checkEthicsAnswer('D')">D) Sistemin çıktılarını bir insan etik komitesi tarafından denetlenmesini sağlamak ve düzenli denetimlerle yanlılığı takip etmek.</button>
            </div>
            <div id="ethicsOutput" class="demo-output mt-lg" style="text-align: center;">Cevabın burada görünecek.</div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Yapay zekâ modelleri, onlara öğrettiğimiz veriler kadar akıllıdır. Eğer veriler yanlıysa, Kukiri de yanlı davranabilir. Bu yüzden adalet ve sorumluluk çok önemlidir!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Yapay Zekâ Etiği**'nin ne kadar önemli olduğunu, özellikle **yanlılık, adalet ve sorumluluk** gibi konularda bilinçli olmanın gerekliliğini.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum17Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 17: Kukiri'nin Duyguları</h3>
            <p class="demo-intro-text mb-md">Kukiri artık metinlerdeki **duygu tonunu** (olumlu/olumsuz/nötr) anlayabiliyor! Aşağıdaki kutuya bir cümle yaz ve Kukiri'nin o cümlenin duygusal puanını nasıl tahmin ettiğini gör.</p>
            <div class="demo-controls">
                <input type="text" id="sentimentInput" placeholder="Bir cümle yazın (ör: Bugün harika bir gün!)">
                <button onclick="analyzeSentiment()"><i class="fas fa-heart"></i> Duyguyu Analiz Et</button>
            </div>
            <div id="sentimentOutput" class="demo-output">Kukiri duygunu bekliyor...</div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Duygu analizi, Kukiri'nin kelimelerin arkasındaki hisleri okuması gibidir. Bazı kelimeler pozitif (+), bazıları negatif (-) puan taşır!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Duygu Analizi (Sentiment Analysis)** ile metinlerdeki genel duygu tonunu (olumlu, olumsuz, nötr) belirlemeyi. Bu, müşteri yorumlarını veya sosyal medya gönderilerini anlamak için kullanılır.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum18Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 18: Sanatçı Kukiri</h3>
            <p class="demo-intro-text mb-md">Kukiri artık sana özel **piksel sanatı** eserleri üretebiliyor! Aşağıdaki alana anahtar kelimeler girerek (örneğin: "orman", "gece", "robot") Kukiri'nin yaratıcılığını keşfet. Unutma, bu basit bir simülasyon!</p>
            <div class="demo-controls">
                <input type="text" id="pixelArtKeywords" placeholder="Anahtar kelimeler (ör: dağ, güneş, ev)">
                <button onclick="generatePixelArt()"><i class="fas fa-palette"></i> Resim Çiz!</button>
            </div>
            <canvas id="pixelArtCanvas" width="200" height="150"></canvas>
            <div id="pixelArtOutput" class="demo-output">Kukiri ilhamını bekliyor...</div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Üretken Görsel Yapay Zekâ, Kukiri'nin hayal gücü gibidir. Ona kelimelerle ipuçları verirsin, o da renkli noktalarla (piksellerle) yeni bir dünya çizer!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Üretken Görsel Yapay Zekâ (Generative AI for Images)** kavramını ve metinden veya basit girdilerden nasıl yeni görseller oluşturulabileceğini (simülasyon düzeyinde).</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum19Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 19: Kukiri'nin Gelecek Tahmini (Sayı Tahmini Oyunu)</h3>
            <p class="demo-intro-text mb-md">Kukiri, 1 ile 10 arasında bir sayı tuttu! Sen de tahmin et bakalım, Kukiri'nin aklındaki sayıyı bulabilecek misin? Her denemede Kukiri sana ipucu verecek!</p>
            <div id="numberGuessingContainer">
                <p>Kukiri'nin aklındaki sayıyı tahmin et (1-10 arası):</p>
                <input type="number" id="userGuessInput" min="1" max="10" value="5">
                <button onclick="checkGuess()"><i class="fas fa-lightbulb"></i> Tahmin Et!</button>
                <button onclick="resetGuessingGame()" class="cta-btn secondary" style="background:var(--lego-orange);"><i class="fas fa-redo"></i> Yeniden Başla</button>
                <div id="numberGuessingOutput" class="demo-output">Tahminini bekliyorum!</div>
                <div id="guessCount">Deneme Sayısı: 0</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Kukiri'nin tahmin mantığı çok basit: Sadece senin tahmininle kendi gizli sayısını karşılaştırır ve sana yol gösterir. Tıpkı gerçek yapay zekanın verileri karşılaştırıp öğrenmesi gibi!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Tahminsel Yapay Zekâ (Regresyon)**'nın temel mantığını, bir sistemin (Kukiri) sana verdiği ipuçlarıyla (verilerle) nasıl doğru sonuca (sayıya) yaklaştığını. Bu, hava tahmini veya stok piyasası analizi gibi sayısal tahminlerde kullanılır.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum20Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 20: Kukiri'nin Uzay Macerası</h3>
            <p class="demo-intro-text mb-md">Kukiri, bilinmeyen bir galakside kayboldu ve güvenli yolu bulmak zorunda! Bu **pekiştirmeli öğrenme** simülasyonunda, Kukiri'nin bir uzay gemisi gibi engellerle dolu asteroid alanında hedefe ulaşmaya çalışmasını izle. Kukiri, her hareketinden ve sonucundan "öğrenerek" daha iyi stratejiler geliştirmeye çalışacak!</p>
            <div class="maze-stats">
                <div>Toplanan Altın: <span id="spaceGold">0</span></div>
                <div>Çarpışma Sayısı: <span id="spaceCollisions">0</span></div>
            </div>
            <div class="maze-container">
                <canvas id="spaceCanvas" width="400" height="400"></canvas>
            </div>
            <div class="demo-controls">
                <button onclick="startSpaceMission()"><i class="fas fa-rocket"></i> Uzay Macerasını Başlat</button>
                <button class="cta-btn secondary" style="background:var(--lego-red);" onclick="resetSpaceMission()"><i class="fas fa-undo"></i> Sıfırla</button>
            </div>
            <div id="spaceMissionOutput" class="demo-output">Kukiri uzayda yolunu arıyor...</div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Uzaydaki pekiştirmeli öğrenme, Kukiri'nin bir oyunu oynamayı öğrenmesi gibidir. İyi hamleler ödül getirir, kötü hamleler ceza. Böylece zamanla en iyi stratejiyi bulur!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Pekiştirmeli Öğrenme**'nin (Reinforcement Learning) daha karmaşık ortamlarda ajanların (Kukiri) deneme-yanılma yoluyla nasıl en iyi stratejileri öğrendiğini ve hedefe ulaşmak için optimize ettiğini.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bonus1Demo" class="ai-demo-area section">
            <h3 class="section-title">BONUS 1: Öğrenen Makineler (Kodsuz AI Simülasyonu)</h3>
            <p class="demo-intro-text mb-md">Bu modülde Kukiri'ye renkleri öğreterek basit bir makine öğrenimi modelinin nasıl çalıştığını göreceksin. Renk butonlarına tıklayarak Kukiri'ye o rengin "nasıl göründüğünü" öğretebilirsin. Her tıklama, Kukiri'nin o renk hakkındaki "bilgi havuzunu" artıracak. Ne kadar çok veri verirsen, o kadar iyi öğrenir. "Kukiri, Tahmin Et!" butonuna bastığında, Kukiri öğrendiği verilere dayanarak rastgele bir rengin ne olduğunu tahmin etmeye çalışacak. Bu modül, makine öğreniminin eğitim (training) ve tahmin (prediction) mantığını kod yazmadan, tamamen interaktif bir şekilde deneyimlemeni sağlar.</p>
            <div class="color-buttons">
                <button class="color-btn" style="background-color: var(--lego-red); color: white;" onclick="trainColorB1('red')">KIRMIZI Öğret</button>
                <button class="color-btn" style="background-color: var(--lego-blue); color: white;" onclick="trainColorB1('blue')">MAVİ Öğret</button>
                <button class="color-btn" style="background-color: var(--lego-green); color: white;" onclick="trainColorB1('green')">YEŞİL Öğret</button>
                <button class="color-btn" style="background-color: var(--lego-yellow);" onclick="trainColorB1('yellow')">SARI Öğret</button>
            </div>
            <div class="demo-controls">
                <button onclick="predictColorB1()"><i class="fas fa-question-circle"></i> Kukiri, Tahmin Et!</button>
                <button class="cta-btn secondary" style="background:var(--lego-orange);" onclick="resetTrainingB1()"><i class="fas fa-undo"></i> Eğitimi Sıfırla</button>
            </div>
            <div id="b1Status" class="status-message">Kukiri yeni renkler öğrenmeye hazır!</div>
            <div id="b1DataPool" class="demo-output" style="text-align:left; min-height: 100px;">Veri Havuzu: Henüz veri yok.</div>
            <div id="b1Output" class="demo-output" style="text-align:center;">Öğrettiğin renklere göre Kukiri'nin tahmini burada görünecek.</div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Ne kadar çok renk öğretirsen, Kukiri o kadar doğru tahminler yapar. Eksik bilgi Kukiri'nin kafasını karıştırabilir!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bu modül, makine öğrenimindeki **eğitim (training)** ve **tahmin (prediction)** aşamalarını gösterir. Sistem, verdiğin verilere (eğitim) dayanarak genelleme yapar ve yeni durumlarda tahminlerde bulunur.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bonus2Demo" class="ai-demo-area section">
            <h3 class="section-title">BONUS 2: Kukiri Labirenti (Reinforcement Learning Simülasyonu)</h3>
            <p class="demo-intro-text mb-md">Kukiri, artık kendi başına bir labirentte yolunu bulmayı deneme-yanılma yoluyla öğreniyor! "Simülasyonu Başlat" dediğinde Kukiri labirentte rastgele hareket etmeye başlar. Altın ($) bulduğunda puan kazanır, Tuzak (X)lara çarptığında puan kaybeder. Kukiri, her hareketinin sonucundan (ödül ya da ceza) "öğrenerek" zamanla daha iyi bir strateji geliştirmeye çalışır. Bu, pekiştirmeli öğrenmenin temel prensibidir. "Toplanan Altın" ve "Çarpışma Sayısı" istatistiklerini takip ederek Kukiri'nin öğrenme sürecini ve performansını gözlemleyebilirsin. "Sıfırla" butonuyla yeni bir labirent oluşturup baştan başlatabilirsin.</p>
            <div class="maze-stats">
                <div>Toplanan Altın: <span id="mazeScore">0</span></div>
                <div>Çarpışma Sayısı: <span id="mazeSteps">0</span></div>
            </div>
            <div class="maze-container" style="width: 300px; height: 300px;">
                <canvas id="mazeCanvas" width="300" height="300"></canvas>
            </div>
            <div class="demo-controls">
                <button onclick="startMazeSimulation()"><i class="fas fa-play"></i> Simülasyonu Başlat</button>
                <button class="cta-btn secondary" style="background:var(--lego-red);" onclick="resetMaze()"><i class="fas fa-undo"></i> Sıfırla</button>
            </div>
            <div id="mazeOutput" class="demo-output">Kukiri labirentte yolunu arıyor...</div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Pekiştirmeli öğrenme, Kukiri'nin bir oyunu oynayarak öğrenmesi gibidir. Doğru hareketler ona ödül (altın) kazandırırken, yanlış hareketler ceza (tuzak) almasına neden olur. Zamanla en iyi stratejiyi bulur!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bu modül, **Pekiştirmeli Öğrenme (Reinforcement Learning)** kavramını temel düzeyde açıklar. Bir **ajan (Kukiri)**, bir **ortamda (labirent)**, aldığı **eylemlerin** (hareketlerin) sonucunda **ödül veya ceza** alarak en iyi **stratejiyi (politika)** öğrenir.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bonus3Demo" class="ai-demo-area section">
            <h3 class="section-title">BONUS 3: Kukiri Şiir Yazıyor (Generative AI Simülasyonu)</h3>
            <p class="demo-intro-text mb-md">Yaratıcı yapay zekânın gücü artık seninle! Kukiri, senin verdiğin ilhamla şiirler yazacak. Metin kutusuna "orman, gece, robot" gibi birkaç anahtar kelime gir. "Şiir Yaz!" butonuna bastığında, Kukiri bu kelimeleri kullanarak sana özel, kısa ve yaratıcı bir metin (şiir veya kısa masal benzeri) oluşturacak. Aynı kelimelerle bile "Farklılaştır!" butonuna basarak yeni varyasyonlar üretebilirsin. Bu, üretken yapay zekânın farklı çıktılar oluşturma yeteneğini gösterir. Kukiri'nin bu yaratıcılığı nasıl başardığına dair basit bir açıklama almak için "Nasıl Yazdı?" butonunu kullanabilirsin.</p>
            <div class="demo-controls">
                <input type="text" id="genAIKeywords" placeholder="Anahtar kelimeler (ör: orman, gece, robot)">
                <button onclick="generatePoem('new')"><i class="fas fa-feather-alt"></i> Şiir Yaz!</button>
            </div>
            <div id="genAIOptions" class="demo-controls hidden">
                <button onclick="generatePoem('varyasyon')"><i class="fas fa-sync-alt"></i> Farklılaştır!</button>
                <button onclick="showGenAIRules()"><i class="fas fa-info-circle"></i> Nasıl Yazdı?</button>
            </div>
            <div id="genAIRules" class="demo-output hidden" style="text-align: left;">
                <h5>Kukiri Nasıl Yazdı?</h5>
                <p>Benim gibi üretken yapay zekalar, öğrendikleri büyük metin kütüphanelerinden kelime ve cümle kalıplarını analiz eder. Sen bana anahtar kelimeler verdiğinde, bu kelimelerin genellikle hangi kelimelerle yan yana geldiğini, hangi temalarla ilişkili olduğunu bulurum. Sonra da bu kalıpları ve öğrendiğim bağlantıları kullanarak sana özel, yeni bir metin oluştururum. Her seferinde biraz farklı olabilirim çünkü yaratıcılık için küçük "rastgele" dokunuşlar eklerim! Vızz!</p>
            </div>
            <div id="poemOutput" class="demo-output">Kukiri ilhamını bekliyor...</div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Ne kadar ilginç ve çeşitli anahtar kelimeler verirsen, o kadar yaratıcı metinler oluşturabilirim! Denemekten çekinme!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bu modül, **Üretken Yapay Zekâ (Generative AI)** kavramını gösterir. Özellikle **Dil Modelleri** (Large Language Models - LLM) adıyla bilinen bu AI türü, girdiğiniz metinlerden yeni ve özgün metinler üretebilir. `Prompt` (anahtar kelime/talimat) vererek yaratıcı çıktı almayı deneyimledin.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bonus4Demo" class="ai-demo-area section">
            <h3 class="section-title">BONUS 4: Görsel Katmanlarla Zekâ (CNN Simülasyonu)</h3>
            <p class="demo-intro-text mb-md">Kukiri'nin gözleriyle dünyayı gör! Bu modül, bir bilgisayarın görüntüleri nasıl "işlediğini" basit filtrelerle gösterir. "Kamerayı Başlat" butonuna tıklayarak web kameranı aç ve kendini veya etrafındaki nesneleri Kukiri'ye göster. "Gri Ton", "Ters Çevir" ve "Kenar Tespiti" gibi filtre butonlarına tıklayarak görüntünü gerçek zamanlı olarak değiştirebilirsin. Bu filtreler, yapay zeka sistemlerinin (özellikle Evrişimli Sinir Ağları'nın - CNN) görüntüleri analiz ederken kullandığı temel adımları görselleştirir. Kukiri, bu filtrelerle "gördüğü" şeylere göre basit "tahminler" yapar. "Kamerayı Kapat" ile istediğin zaman durdurabilirsin.</p>
            <div class="demo-controls">
                <button id="startCamBtnB4" onclick="startCameraB4()"><i class="fas fa-video"></i> Kamerayı Başlat</button>
                <button id="stopCamBtnB4" onclick="stopCameraB4()" disabled><i class="fas fa-stop-circle"></i> Kamerayı Kapat</button>
            </div>
            <div class="video-container">
                <video id="webcamVideoB4" class="video-element" autoplay playsinline></video>
                <canvas id="filterOutputCanvas" class="output-canvas"></canvas>
            </div>
            <div class="filter-controls">
                <button onclick="applyFilterB4('grayscale')"><i class="fas fa-image"></i> Gri Ton</button>
                <button onclick="applyFilterB4('invert')"><i class="fas fa-sync-alt"></i> Ters Çevir</button>
                <button onclick="applyFilterB4('edges')"><i class="fas fa-border-all"></i> Kenar Tespiti</button>
                <button class="cta-btn secondary" style="background:var(--lego-orange);" onclick="clearFiltersB4()"><i class="fas fa-eraser"></i> Filtreleri Temizle</button>
            </div>
            <div id="cnnOutput" class="demo-output">Kukiri görüntüyü işliyor...</div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Benim gibi yapay zekalar, bir görüntüyü doğrudan "görmez". Onu küçük parçalara ayırır ve her bir parça üzerinde farklı filtreler uygular. Böylece kenarları, renkleri, şekilleri ayrı ayrı algılar ve sonra bunları birleştirerek ne "gördüğüne" karar verir!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bu modül, **Evrişimli Sinir Ağları (Convolutional Neural Networks - CNN)** gibi görsel yapay zeka modellerinin temel prensiplerini gösterir. Görüntüler, farklı katmanlardan (filtrelerden) geçirilerek özellikler çıkarılır ve bu özellikler daha sonra nesne tanıma veya sınıflandırma gibi görevlerde kullanılır.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum21Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 21: Kukiri Müzik Yapıyor</h3>
            <p class="demo-intro-text mb-md">Kukiri'ye biraz ilham verin, size özel melodiler oluştursun!</p>
            <div class="demo-controls">
                <input type="text" id="musicKeywords" placeholder="Müzik teması (ör: hüzünlü, neşeli, robotik)">
                <button onclick="generateMusic()"><i class="fas fa-music"></i> Melodi Oluştur</button>
                <button onclick="stopMusic()" class="cta-btn secondary" style="background:var(--lego-red);"><i class="fas fa-stop"></i> Durdur</button>
            </div>
            <div id="musicOutput" class="demo-output" style="text-align: center;">Kukiri ilhamını bekliyor...</div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Yapay zeka, notaları ve ritimleri öğrenerek yeni melodiler yaratabilir. Tıpkı bir besteci gibi ama çok daha hızlı!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Üretken Yapay Zeka (Generative AI)**'nın müzik alanında nasıl kullanılabileceğini ve yeni melodiler üretebileceğini.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum22Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 22: Kukiri Resim Yapabiliyor</h3>
            <p class="demo-intro-text mb-md">Hayalinizdeki resmi tarif edin, Kukiri sizin için çizsin! Basit anahtar kelimelerle renkli bir eser yaratacak.</p>
            <div class="demo-controls">
                <input type="text" id="drawingKeywords" placeholder="Resim tarifiniz (ör: ağaç, güneş, nehir)">
                <button onclick="generateDrawing()"><i class="fas fa-palette"></i> Resim Çiz!</button>
                <button onclick="clearDrawing()" class="cta-btn secondary" style="background:var(--lego-orange);">Çizimi Temizle</button>
            </div>
            <canvas id="drawingCanvas" width="400" height="300" style="border: 2px solid var(--lego-brown); background-color: #f0f0f0; display: block; margin: var(--space-md) auto;"></canvas>
            <div id="drawingOutput" class="demo-output" style="text-align: center;">Kukiri ilhamını bekliyor...</div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Kelimeleri alıp resimlere dönüştürmek, benim en sevdiğim sihirlerden biri! Her kelimenin bir rengi, bir şekli var gibi düşün.</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Metinden Görsel Üretimi (Text-to-Image Generative AI)**'nın temel prensibini ve yapay zekânın yaratıcı sanat eserleri oluşturma yeteneğini.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum23Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 23: Kukiri Yönetmen Oldu!</h3>
            <p class="demo-intro-text mb-md">Senaryoyu yazın, Kukiri kısa bir video klip oluştursun! (Basit metin tabanlı bir simülasyon)</p>
            <div class="demo-controls">
                <textarea id="videoScenarioInput" placeholder="Senaryo tarifiniz (ör: robot uzayda uçuyor, bir çiçek açıyor)" rows="3"></textarea>
                <button onclick="generateVideoSimulation()"><i class="fas fa-video"></i> Video Oluştur</button>
                <button onclick="stopVideoSimulation()" class="cta-btn secondary" style="background:var(--lego-red);">Durdur</button>
            </div>
            <div id="videoSimulationText" class="demo-output" style="min-height: 100px; text-align: left; font-size: 1.1rem; border: 2px dashed var(--lego-blue);">Video simülasyonu burada görünecek...</div>
            <div id="videoOutput" class="demo-output" style="text-align: center;">Kukiri senaryoyu bekliyor...</div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Bir video oluşturmak, birçok resmi ve sesi bir araya getirmek gibidir. Ben de kelimelerden sahneleri hayal edebilirim!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Metinden Video Üretimi (Text-to-Video Generative AI)** gibi gelişmiş üretken yapay zeka uygulamalarının kavramsal mantığını.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>

        <div id="bolum24Demo" class="ai-demo-area section">
            <h3 class="section-title">Bölüm 24: Kukiri Developer - Geliştirici Kukiri Kod Yazıyor!</h3>
            <p class="demo-intro-text mb-md">Basit bir görev tanımlayın, Kukiri sizin için temel Python kodlarını yazsın ve çalıştırsın!</p>
            <div class="demo-controls">
                <input type="text" id="codePromptInput" placeholder="Örnek: 'Merhaba Dünya' yazdıran bir kod">
                <button onclick="generateAndRunCode()"><i class="fas fa-code"></i> Kod Oluştur & Çalıştır</button>
            </div>
            <div class="python-ide" style="margin-top: var(--space-md);">
                <textarea id="generatedCodeOutput" class="python-code-input" readonly style="min-height: 150px; color: var(--lego-green);"># Kukiri'den kod bekliyorum...</textarea>
                <div id="codeExecutionOutput" class="python-output" style="min-height: 80px;">Kod çıktısı burada görünecek...</div>
            </div>
            <div class="learning-box">
                <div class="tip-box">
                    <h4><i class="fas fa-lightbulb"></i>Kukiri'den Tüyolar</h4>
                    <p>Vızz! Ben, senin ne istediğini anlayıp o isteği koda çevirebilirim. Programcı dostum ol!</p>
                </div>
                <div class="summary-box">
                    <h4><i class="fas fa-book"></i>Zekâ Defteri</h4>
                    <p>Bugün öğrendin: **Kod Üretimi (Code Generation)**, üretken yapay zekânın bir başka alanı. Programcıların daha hızlı kod yazmasına veya tekrarlayan görevleri otomatikleştirmesine yardımcı olur.</p>
                </div>
            </div>
            <div class="text-center mt-lg"> <button class="cta-btn secondary" onclick="closeCurrentDemo()"><i class="fas fa-times-circle"></i> Atölyeyi Kapat</button> </div>
        </div>
    </div>

    <div id="kukiriInfoModal" class="modal">
        <div class="modal-content">
            <span class="modal-close-btn" onclick="closeModal('kukiriInfoModal')">&times;</span>
            <svg id="kukiri-modal-mascot" width="150" height="150" viewBox="0 0 200 200">
                <circle id="kukiri-svg-body" cx="100" cy="100" r="60" />
                <path id="kukiri-svg-wing-left" d="M 40 80 Q 20 60 40 40 L 60 60 Q 50 70 60 80 Z" />
                <path id="kukiri-svg-wing-right" d="M 160 80 Q 180 60 160 40 L 140 60 Q 150 70 140 80 Z" />
                <circle id="kukiri-svg-eye" cx="120" cy="80" r="15" />
                <circle id="kukiri-svg-pupil" cx="125" cy="78" r="5" />
                <path id="kukiri-svg-beak" d="M 130 90 L 150 95 L 130 100 Z" />
                <g id="kukiri-svg-propeller" transform="translate(100, 40)">
                    <rect id="kukiri-svg-propeller-blade" x="-5" y="-30" width="10" height="30" rx="3" />
                    <rect id="kukiri-svg-propeller-blade" x="-5" y="-30" width="10" height="30" rx="3" transform="rotate(90)" />
                    <rect id="kukiri-svg-propeller-blade" x="-5" y="-30" width="10" height="30" rx="3" transform="rotate(180)" />
                    <rect id="kukiri-svg-propeller-blade" x="-5" y="-30" width="10" height="30" rx="3" transform="rotate(270)" />
                    <circle id="kukiri-svg-propeller-base" cx="0" cy="0" r="8" />
                </g>
            </svg>
            <h2>Kukiri Kimdir?</h2>
            <p>Merhaba! Benim adım Kukiri! Ben, AI'Han'ın eski kamera, pervane ve mikser motorundan yaptığı robot kuşuyum. Uçabilir, konuşabilir ve en önemlisi **öğrenebilirim!**</p>
            <p>Bu atölyede, AI'Han ile birlikte sana kodlamayı ve yapay zekânın sihirli dünyasını öğreteceğim. Hazır mısın? Vız vız!</p>
        </div>
    </div>

    <footer class="footer">
        <p>© <span id="currentYear"></span> AI'Han ile Yapay Zeka Öğreniyoruz by <a href="https://www.linkedin.com/in/ayhanbozkurt/" target="_blank" class="footer-link">Ayhan Bozkurt</a>. Tüm hakları saklıdır.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.17.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd@2.2.3/dist/coco-ssd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>    

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            // Particle effect initialization
            const particlesContainer = document.getElementById('particles-background');
            if (particlesContainer) {
                const particleColors = ['red', 'blue', 'green', 'yellow', 'orange'];
                const numberOfParticles = Math.max(20, Math.floor(window.innerWidth / 50));
                for (let i = 0; i < numberOfParticles; i++) {
                    const p = document.createElement('div');
                    p.classList.add('particle', particleColors[Math.floor(Math.random() * particleColors.length)]);
                    p.style.width = `${Math.random() * 10 + 5}px`;
                    p.style.height = p.style.width;
                    p.style.left = `${Math.random() * 100}vw`;
                    p.style.setProperty('--random-x', Math.random() * 300 - 150);
                    p.style.animationDelay = `${Math.random() * 20}s`;
                    p.style.animationDuration = `${Math.random() * 15 + 10}s`;
                    particlesContainer.appendChild(p);
                }
            }

            // Initial setup for guessing game (B19)
            initializeNumberGuessingGame();
            // Initial setup for space mission (B20)
            resetSpaceMission(); 
        });

        // --- GLOBAL CONTROL FUNCTIONS ---
        let currentOpenDemo = null; // Hangi demo'nun açık olduğunu takip eder

        function openModal(modalId) {
            document.getElementById(modalId).style.display = "flex";
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                closeModal(event.target.id);
            }
        }

        function openAIDemo(demoId) {
            if (currentOpenDemo) {
                closeCurrentDemo();
            }
            const demoArea = document.getElementById(demoId);
            if (demoArea) {
                demoArea.classList.add('active');
                currentOpenDemo = demoId;
                demoArea.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                // Demo ID'sine göre özel yüklemeler/sıfırlamalar
                const bolumNoMatch = demoId.match(/bolum(\d+)/);
                const bonusNoMatch = demoId.match(/bonus(\d+)/);

                if (bolumNoMatch) {
                    const bolumNo = parseInt(bolumNoMatch[1]);
                    // Python IDE'leri için Pyodide yükle
                    if ((bolumNo >= 2 && bolumNo <= 12) || bolumNo === 24) { 
                        loadPyodideEnvironment(bolumNo);
                    }
                    // Diğer spesifik bölüm başlangıçları
                    if (bolumNo === 15) {
                        loadCocoSsdModel(); // CV demo için modeli yükle
                        // NLP alt demosunu varsayılan olarak aç
                        openSubDemo('nlpSubDemo'); 
                    } else if (bolumNo === 19) {
                        resetGuessingGame(); // Sayı tahmin oyununu sıfırla
                    } else if (bolumNo === 20) {
                        resetSpaceMission(); // Uzay macerasını sıfırla
                    } else if (bolumNo === 21) {
                        initializeAudio(); // Müzik demosu için AudioContext'i başlat
                    } else if (bolumNo === 22) {
                        clearDrawing(); // Çizim demosunu temizle
                    } else if (bolumNo === 23) {
                        stopVideoSimulation(); // Önceki video simülasyonunu durdur
                        document.getElementById('videoScenarioInput').value = '';
                        document.getElementById('videoSimulationText').textContent = 'Video simülasyonu burada görünecek...';
                        document.getElementById('videoOutput').textContent = 'Kukiri senaryoyu bekliyor...';
                    } else if (bolumNo === 24) {
                        document.getElementById('codePromptInput').value = '';
                        document.getElementById('generatedCodeOutput').textContent = '# Kukiri\'den kod bekliyorum...';
                        document.getElementById('codeExecutionOutput').textContent = 'Kod çıktısı burada görünecek...';
                        loadPyodideEnvironment(24); // B24 için Pyodide'ı yükle
                    }
                } else if (bonusNoMatch) {
                    const bonusNo = parseInt(bonusNoMatch[1]);
                    if (bonusNo === 1) {
                        resetTrainingB1(); // Bonus 1'i sıfırla
                    } else if (bonusNo === 2) {
                        resetMaze(); // Bonus 2'yi sıfırla
                    } else if (bonusNo === 3) {
                        document.getElementById('genAIKeywords').value = '';
                        document.getElementById('poemOutput').innerHTML = 'Kukiri ilhamını bekliyor...';
                        document.getElementById('genAIOptions').classList.add('hidden');
                        document.getElementById('genAIRules').classList.add('hidden');
                    } else if (bonusNo === 4) {
                        stopCameraB4(); // Bonus 4'ü sıfırla (kamerayı kapat)
                    }
                }
            }
        }

        function closeCurrentDemo() {
            if (!currentOpenDemo) return;
            const demoArea = document.getElementById(currentOpenDemo);
            if (demoArea) {
                demoArea.classList.remove('active');
            }
            // Her demo kapanırken özel temizlik işlemleri
            if (currentOpenDemo === 'bolum15Demo') {
                stopObjectDetection();
                document.getElementById('nlpSubDemo').classList.add('hidden');
                document.getElementById('objectDetectionSubDemo').classList.add('hidden');
                // Chat geçmişini temizle
                const chatMessages = document.getElementById('chatMessages');
                chatMessages.innerHTML = '<div class="message kukiri">Merhaba kaşif! Benimle sohbet etmek ister misin? Nelerden hoşlanırsın?</div>';
            } else if (currentOpenDemo === 'bolum19Demo') {
                resetGuessingGame();
            } else if (currentOpenDemo === 'bolum20Demo') {
                resetSpaceMission();
            } else if (currentOpenDemo === 'bonus2Demo') {
                resetMaze();
            } else if (currentOpenDemo === 'bonus4Demo') {
                stopCameraB4();
            } else if (currentOpenDemo === 'bolum21Demo') {
                stopMusic();
            } else if (currentOpenDemo === 'bolum22Demo') {
                clearDrawing();
            } else if (currentOpenDemo === 'bolum23Demo') {
                stopVideoSimulation();
            } else if (currentOpenDemo === 'bolum24Demo') {
                document.getElementById('codePromptInput').value = '';
                document.getElementById('generatedCodeOutput').textContent = '# Kukiri\'den kod bekliyorum...';
                document.getElementById('codeExecutionOutput').textContent = 'Kod çıktısı burada görünecek...';
            }
            currentOpenDemo = null;
            document.getElementById('missions').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function openSubDemo(subDemoId) {
            // Tüm alt-demoları gizle
            ['nlpSubDemo', 'objectDetectionSubDemo'].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.classList.add('hidden');
            });
            // Herhangi bir çalışan kamerayı durdur
            stopObjectDetection(); // B15 için
            stopCameraB4(); // Bonus 4 için

            const subDemo = document.getElementById(subDemoId);
            if (subDemo) {
                subDemo.classList.remove('hidden');
                subDemo.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }
        
        // --- HELPER FUNCTIONS ---
        function setStatusMessage(elementId, message, type = '') {
            const statusEl = document.getElementById(elementId);
            if (statusEl) {
                statusEl.innerHTML = message;
                statusEl.className = `status-message ${type}`;
                statusEl.classList.remove("hidden");
            }
        }

        // --- PYTHON (PYODIDE) WORKSHOPS ---
        let pyodide = null;
        let isPyodideLoading = false;

        async function loadPyodideEnvironment(bolumNo) {
            const outputElId = (bolumNo === 24) ? 'codeExecutionOutput' : `pythonOutput${bolumNo}`;
            const runBtn = document.querySelector(`#bolum${bolumNo}Demo .demo-controls button`);

            if (pyodide) {
                setStatusMessage(outputElId, "Python ortamı hazır. Kodunu çalıştırabilirsin!", "success");
                return;
            }
            if (isPyodideLoading) {
                setStatusMessage(outputElId, "Python ortamı yükleniyor, lütfen bekle...");
                return;
            }
            
            isPyodideLoading = true;
            if (runBtn) runBtn.disabled = true;
            setStatusMessage(outputElId, "<i class='fas fa-spinner fa-spin'></i> Python ortamı yükleniyor... Bu ilk seferde biraz zaman alabilir, sabırlı ol kaşif! 🐍", "loading");

            try {
                pyodide = await loadPyodide();
                setStatusMessage(outputElId, "Python ortamı yüklendi! 'Kodu Çalıştır' butonuna basabilirsin.", "success");
            } catch (e) {
                setStatusMessage(outputElId, "Hata! Python ortamı yüklenemedi. Lütfen sayfayı yenileyip tekrar dene.", "error");
                console.error("Pyodide yükleme hatası:", e);
            } finally {
                isPyodideLoading = false;
                if (runBtn) runBtn.disabled = false;
            }
        }

        async function runPythonCode(bolumNo) {
            const outputEl = document.getElementById(`pythonOutput${bolumNo}`);
            const code = document.getElementById(`pythonCodeInput${bolumNo}`).value;
            
            if (!pyodide) {
                setStatusMessage(outputEl.id, "Python ortamı henüz hazır değil, lütfen bekle...", "error");
                return;
            }

            setStatusMessage(outputEl.id, "<i class='fas fa-cog fa-spin'></i> Kod çalıştırılıyor...", "loading");

            try {
                let stdout_data = "";
                pyodide.setStdout({ batched: (str) => stdout_data += str });
                
                pyodide.setStdin({
                    stdin: () => {
                        const inputVal = prompt("Python kodu için bir giriş yapın:");
                        return inputVal === null ? "" : inputVal + "\n"; 
                    }
                });

                await pyodide.runPythonAsync(code);

                outputEl.style.color = 'var(--lego-black)'; 
                outputEl.textContent = stdout_data || "Kod çalıştı ancak ekrana bir şey yazdırmadı.";

            } catch (error) {
                outputEl.style.color = 'var(--lego-red)';
                outputEl.textContent = `Hata:\n${error.message}`;
                console.error("Python kodu çalıştırma hatası:", error);
            } finally {
                pyodide.setStdin({ stdin: null }); 
                pyodide.setStdout({ batched: (str) => console.log(str) }); 
            }
        }
        
        // --- INTERACTIVE AI DEMOS ---
        // BÖLÜM 1: ALGORITHM DEMO
        function runAlgorithm(outputElId) {
            const outputEl = document.getElementById(outputElId);
            const algorithmSteps = [
                "1. Adım: Su ısıtıcısına su koy.",
                "2. Adım: Suyu kaynat.",
                "3. Adım: Fincana kahve ekle.",
                "4. Adım: Kaynar suyu fincana dök.",
                "5. Adım: Karıştır.",
                "6. Adım: Afiyet olsun! ✅"
            ];
            
            let i = 0;
            outputEl.innerHTML = "☕️ KAHVE YAPMA ALGORİTMASI BAŞLADI ☕️<br><br>";
            outputEl.style.color = 'var(--lego-black)'; // Set output color to black
            const interval = setInterval(() => {
                if (i < algorithmSteps.length) {
                    outputEl.innerHTML += algorithmSteps[i] + "<br>";
                    i++;
                } else {
                    clearInterval(interval);
                    outputEl.scrollTop = outputEl.scrollHeight; // Scroll to bottom
                }
            }, 800);
        }

        // BÖLÜM 13: ALGORITHM DEMO - Reusing the runAlgorithm function
        function runAlgorithmSim(outputElId) {
            runAlgorithm(outputElId); // Same logic as Bölüm 1
        }

        // BÖLÜM 14: SUPERVISED LEARNING DEMO (and BONUS 1)
        let trainedColors = {};    
        function trainColor(color) { // For Bölüm 14    
            if (!trainedColors[color]) trainedColors[color] = 0;    
            trainedColors[color]++;    
            setStatusMessage('mlStatus', `Harika! Kukiri'ye **${color}** rengini öğrettin. (${trainedColors[color]} kez)`, 'success');    
        }    

        function predictColor() { // For Bölüm 14    
            const outputEl = document.getElementById('mlOutput');    
            if (Object.keys(trainedColors).length === 0) {    
                setStatusMessage('mlStatus', "Hey! Kukiri'ye daha hiç renk öğretmedin ki! 😅", "error");    
                return;    
            }    
            setStatusMessage('mlStatus', "<i class='fas fa-spinner fa-spin'></i> Kukiri düşünüyor... Vız vız... 🤔", "loading");    

            setTimeout(() => {    
                let maxCount = 0;    
                let predictedColor = null;    
                for (const color in trainedColors) {    
                    if (trainedColors[color] > maxCount) {    
                        maxCount = trainedColors[color];    
                        predictedColor = color;    
                    }    
                }    
                setStatusMessage('mlStatus', `Kukiri kararını verdi! 🎉`, 'success');    
                outputEl.style.color = 'var(--lego-black)'; // Ensure output color is black    
                outputEl.innerHTML = `Bence bu bir **${predictedColor.toUpperCase()}** blok! <div style="width:60px; height:60px; background-color:var(--lego-${predictedColor}); margin:15px auto; border:3px solid var(--lego-black); border-radius:8px;"></div>Doğru bildim mi?`;    
            }, 1500);    
        }    

        function resetTraining() { // For Bölüm 14    
            trainedColors = {};    
            setStatusMessage('mlStatus', "Kukiri'nin hafızası sıfırlandı. Hadi yeniden eğitelim!", 'success');    
            document.getElementById('mlOutput').textContent = "Öğrettiğin renklere göre Kukiri'nin tahmini burada görünecek.";    
            document.getElementById('mlOutput').style.color = 'var(--lego-black)'; // Reset output text color    
        }    

        // BONUS 1: Öğrenen Makineler (Kodsuz AI Simülasyonu) - Extended Version
        let trainedDataB1 = {}; // { 'red': 5, 'blue': 3, ... }
        let currentPredictionB1 = null;

        function updateDataPoolDisplayB1() {
            const dataPoolEl = document.getElementById('b1DataPool');
            let dataHtml = '<strong>Veri Havuzu:</strong>';
            if (Object.keys(trainedDataB1).length === 0) {
                dataHtml += ' Henüz veri yok.';
            } else {
                for (const color in trainedDataB1) {
                    dataHtml += `<br><strong>${color.toUpperCase()}</strong>: ${trainedDataB1[color]} örnek`;
                }
            }
            dataPoolEl.style.color = 'var(--lego-black)'; // Set output color to black
            dataPoolEl.innerHTML = dataHtml;
        }

        function trainColorB1(color) {
            if (!trainedDataB1[color]) trainedDataB1[color] = 0;
            trainedDataB1[color]++;
            setStatusMessage('b1Status', `Harika! Kukiri'ye **${color}** rengini öğrettin. (${trainedDataB1[color]} kez)`, 'success');
            updateDataPoolDisplayB1();
        }

        function predictColorB1() {
            const outputEl = document.getElementById('b1Output');
            const colorKeys = Object.keys(trainedDataB1);
            if (colorKeys.length === 0) {
                setStatusMessage('b1Status', "Hey! Kukiri'ye daha hiç renk öğretmedin ki! 😅", "error");
                return;
            }
            setStatusMessage('b1Status', "<i class='fas fa-spinner fa-spin'></i> Kukiri düşünüyor... Vız vız... 🤔", "loading");

            // Simple majority vote classifier
            setTimeout(() => {
                let maxCount = 0;
                let predictedColor = null;
                for (const color in trainedDataB1) {
                    if (trainedDataB1[color] > maxCount) {
                        maxCount = trainedDataB1[color];
                        predictedColor = color;
                    }
                }
                currentPredictionB1 = predictedColor; // Store for animation
                setStatusMessage('b1Status', `Kukiri kararını verdi! 🎉`, 'success');
                outputEl.style.color = 'var(--lego-black)'; // Set output color to black
                outputEl.innerHTML = `Bence bu bir **${predictedColor.toUpperCase()}** blok! <div style="width:80px; height:80px; background-color:var(--lego-${predictedColor}); margin:15px auto; border:4px solid var(--lego-black); border-radius:12px; transition: all 0.5s ease-in-out;"></div>Doğru bildim mi?`;
            }, 1500);
        }

        function resetTrainingB1() {
            trainedDataB1 = {};
            currentPredictionB1 = null;
            setStatusMessage('b1Status', "Kukiri'nin hafızası sıfırlandı. Hadi yeniden eğitelim!", 'success');
            document.getElementById('b1Output').innerHTML = "Öğrettiğin renklere göre Kukiri'nin tahmini burada görünecek.";
            document.getElementById('b1Output').style.color = 'var(--lego-black)'; // Reset output text color
            updateDataPoolDisplayB1();
        }
        document.addEventListener('DOMContentLoaded', updateDataPoolDisplayB1);


        // BÖLÜM 15: NLP & CV DEMOS
        // NLP
        function getKukiriResponse(userInput) {
            userInput = userInput.toLowerCase();
            if (userInput.includes("merhaba") || userInput.includes("selam")) {
                return "Merhaba kaşif! Nasılsın? Bugün bir şeyler öğrenmeye hazır mısın?";
            } else if (userInput.includes("adın ne") || userInput.includes("kimsin")) {
                return "Benim adım Kukiri! AI'Han'ın robot kuşuyum. Seninle konuşmayı seviyorum!";
            } else if (userInput.includes("uç") || userInput.includes("havalan")) {
                return "Vızz vızz! Evet, uçabilirim! Gökyüzünde süzülmek harika!";
            } else if (userInput.includes("yapay zeka") || userInput.includes("ai")) {
                return "Yapay zekâ, makinelerin öğrenmesini ve karar vermesini sağlar. Tıpkı şimdi benim seninle konuştuğum gibi!";
            } else if (userInput.includes("teşekkür") || userInput.includes("sağ ol")) {
                return "Rica ederim! Her zaman yardıma hazırım!";
            } else if (userInput.includes("nasılsın")) {
                return "Teşekkür ederim, iyiyim! Seninle sohbet etmek beni mutlu ediyor.";
            } else if (userInput.includes("hava")) {
                return "Hava durumu hakkında kesin bilgim yok, ama umarım senin için güneşli bir gün olur!";
            } else if (userInput.includes("ne yapıyorsun") || userInput.includes("işin ne")) {
                return "Benim işim öğrenmek ve sana öğrenmede yardımcı olmak! En sevdiğim şey yeni şeyler keşfetmek.";
            }
                else {
                const genericResponses = [
                    "İlginç bir soru! Bunun üzerinde düşünmem gerekiyor...",
                    "Anlıyorum. Peki bu konuda başka ne düşünüyorsun?",
                    "Bu harika bir konu! Daha fazla bilgi almak ister misin?",
                    "Vızz vızz! Duygusal zekâm gelişiyor sanırım, seninle konuşmak eğlenceli!",
                    "Hmmm... Bu kelime hakkında daha fazla bilgiye ihtiyacım var. Belki başka bir soru sorabilirsin?"
                ];
                return genericResponses[Math.floor(Math.random() * genericResponses.length)];
            }
        }

        function addMessageToChat(message, sender) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', sender);
            messageDiv.textContent = message;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight; // Scroll to bottom
        }

        function sendMessageNLP() {
            const nlpInput = document.getElementById('nlpInput');
            const userText = nlpInput.value.trim();
            if (userText === "") return;

            addMessageToChat(userText, 'user');
            nlpInput.value = ''; // Clear input

            // Simulate Kukiri typing/thinking
            addMessageToChat("Kukiri düşünüyor...", 'kukiri');
            const lastKukiriMessage = chatMessages.lastChild;

            setTimeout(() => {
                const kukiriResponse = getKukiriResponse(userText);
                lastKukiriMessage.textContent = kukiriResponse; // Update thinking message
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000 + Math.random() * 1000); // Simulate delay
        }

        function handleEnterNLP(event) {
            if (event.key === "Enter") {
                sendMessageNLP();
            }
        }

        // CV (Object Detection)
        let cocoSsdModel = null;
        let isCocoSsdLoading = false;
        let videoStream = null;
        let animationFrameId = null;

        async function loadCocoSsdModel() {
            if (cocoSsdModel) return;
            if (isCocoSsdLoading) return;
            isCocoSsdLoading = true;
            setStatusMessage('objDetStatus', "<i class='fas fa-spinner fa-spin'></i> Nesne tanıma modeli yükleniyor...", 'loading');
            try {
                cocoSsdModel = await cocoSsd.load();
                setStatusMessage('objDetStatus', 'Model yüklendi! Kamerayı başlatabilirsin.', 'success');
            } catch (e) {
                setStatusMessage('objDetStatus', 'Model yüklenemedi!', 'error');
                console.error("Coco-SSD Model Yükleme Hatası:", e);
            } finally {
                isCocoSsdLoading = false;
            }
        }

        async function startObjectDetection() {
            if (!cocoSsdModel) {
                setStatusMessage('objDetStatus', 'Nesne tanıma modeli henüz yüklenmedi. Lütfen bekleyin.', 'error');
                return;
            }

            const video = document.getElementById('webcamVideo');
            const canvas = document.getElementById('outputCanvas');
            const ctx = canvas.getContext('2d');
            const objDetOutput = document.getElementById('objDetOutput');
            objDetOutput.style.color = 'var(--lego-black)';

            try {
                videoStream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'user' } });
                video.srcObject = videoStream;
                await video.play();

                video.onloadedmetadata = () => {
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    detectFrame();
                };

                document.getElementById('startCamBtn').disabled = true;
                document.getElementById('stopCamBtn').disabled = false;
                setStatusMessage('objDetStatus', 'Kamera açıldı, Kukiri nesneleri görüyor!', 'success');

            } catch (err) {
                setStatusMessage('objDetStatus', 'Kamera erişimi reddedildi veya hata oluştu: ' + err.message, 'error');
                console.error("Kamera erişim hatası:", err);
                document.getElementById('startCamBtn').disabled = false;
                document.getElementById('stopCamBtn').disabled = true;
            }
        }

        function stopObjectDetection() {
            if (videoStream) {
                videoStream.getTracks().forEach(track => track.stop());
                videoStream = null;
                document.getElementById('webcamVideo').srcObject = null;
            }
            if (animationFrameId) {
                cancelAnimationFrame(animationFrameId);
                animationFrameId = null;
            }
            const canvas = document.getElementById('outputCanvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            document.getElementById('startCamBtn').disabled = false;
            document.getElementById('stopCamBtn').disabled = true;
            document.getElementById('objDetOutput').textContent = "Tespit edilen nesneler burada görünecek.";
            document.getElementById('objDetOutput').style.color = 'var(--lego-black)';
            setStatusMessage('objDetStatus', 'Kamera ve nesne algılama durduruldu.', 'warning');
        }

        async function detectFrame() {
            const video = document.getElementById('webcamVideo');
            const canvas = document.getElementById('outputCanvas');
            const ctx = canvas.getContext('2d');
            const objDetOutput = document.getElementById('objDetOutput');

            if (video.paused || video.ended || !cocoSsdModel) return;

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

            const predictions = await cocoSsdModel.detect(video);

            objDetOutput.textContent = 'Tespit edilen nesneler: ';
            if (predictions.length === 0) {
                objDetOutput.textContent += 'Hiçbir şey algılanmadı.';
            } else {
                predictions.forEach(prediction => {
                    objDetOutput.textContent += `${prediction.class} (%${Math.round(prediction.score * 100)}) `;
                    
                    ctx.beginPath();
                    ctx.rect(...prediction.bbox);
                    ctx.lineWidth = 3;
                    ctx.strokeStyle = 'var(--lego-red)'; 
                    ctx.fillStyle = 'var(--lego-red)';
                    ctx.stroke();

                    ctx.font = '18px Arial';
                    ctx.fillStyle = 'white'; 
                    ctx.fillText(prediction.class, prediction.bbox[0] + 5, prediction.bbox[1] + 20);
                });
            }
            animationFrameId = requestAnimationFrame(detectFrame);
        }
        
        // BÖLÜM 16: ETHICS QUIZ
        function checkEthicsAnswer(answer) {
            const outputEl = document.getElementById('ethicsOutput');
            outputEl.style.color = 'var(--lego-black)';
            if (answer === 'D') {
                outputEl.innerHTML = "<h4><i class='fas fa-check-circle' style='color:var(--lego-green)'></i> Harika Bir Cevap!</h4><p>Yapay zekâ etiği, genellikle tek bir doğru cevabı olmayan karmaşık sorular içerir. En güvenli ve sorumlu yaklaşım, bu tür kritik kararları insan denetimine ve etik kurallara bırakmaktır. Zekice!</p>";
            } else {
                outputEl.innerHTML = "<h4><i class='fas fa-exclamation-triangle' style='color:var(--lego-orange)'></i> Düşündürücü Bir Cevap!</h4><p>Bu sorunun kolay bir cevabı yok ve seçtiğin şık da üzerinde düşünülmesi gereken önemli bir noktayı vurguluyor. Yapay zekâ etiğindeki en önemli şey, bu tür zor kararlar hakkında düşünmektir. 'D' şıkkı genellikle en güvenli yol olarak kabul edilir.</p>";
            }
        }

        // BÖLÜM 17: Kukiri'nin Duyguları (Duygu Tanıma Simülasyonu)
        const sentimentLexicon = {
            "iyi": 1, "harika": 2, "güzel": 1, "mutlu": 2, "seviyorum": 2, "olumlu": 1, "mükemmel": 3, "eğlenceli": 1, "muhteşem": 2, "umut": 1,
            "kötü": -1, "üzgün": -2, "korkunç": -2, "nefret": -2, "olumsuz": -1, "berbat": -3, "sıkıcı": -1, "sevimsiz": -1, "korku": -2, "öfke": -2,
            "nötr": 0, "ama": 0, "gibi": 0, "ve": 0, "bir": 0, "gün": 0, "çok": 0, "şaşkın": 0, "sakin": 0
        };

        function analyzeSentiment() {
            const text = document.getElementById('sentimentInput').value.toLowerCase();
            const words = text.split(/\s+/);
            let totalScore = 0;

            words.forEach(word => {
                const cleanWord = word.replace(/[.,!?;:']/g, ''); // Remove punctuation
                if (sentimentLexicon.hasOwnProperty(cleanWord)) {
                    totalScore += sentimentLexicon[cleanWord];
                }
            });

            const outputEl = document.getElementById('sentimentOutput');
            outputEl.classList.remove('sentiment-positive', 'sentiment-negative', 'sentiment-neutral');
            outputEl.style.color = 'var(--lego-black)';

            let sentimentMessage = `Kukiri'nin tahmini: `;
            if (totalScore > 0) {
                sentimentMessage += `Bu cümle **pozitif** bir duygu taşıyor! 😊 (Puan: ${totalScore})`;
                outputEl.classList.add('sentiment-positive');
            } else if (totalScore < 0) {
                sentimentMessage += `Bu cümle **negatif** bir duygu taşıyor. 🙁 (Puan: ${totalScore})`;
                outputEl.classList.add('sentiment-negative');
            } else {
                sentimentMessage += `Bu cümle **nötr** bir duygu taşıyor. 😐 (Puan: ${totalScore})`;
                outputEl.classList.add('sentiment-neutral');
            }
            outputEl.innerHTML = sentimentMessage;
        }

        // BÖLÜM 18: Sanatçı Kukiri (Görüntü Üretimi Simülasyonu)
        function generatePixelArt() {
            const keywordsInput = document.getElementById('pixelArtKeywords');
            const outputEl = document.getElementById('pixelArtOutput');
            const canvas = document.getElementById('pixelArtCanvas');
            const ctx = canvas.getContext('2d');

            const keywords = keywordsInput.value.toLowerCase().split(',').map(k => k.trim()).filter(k => k.length > 0);
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#000'; // Default background for space/night scenes
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const pixelSize = 10;
            const numPixelsX = canvas.width / pixelSize;
            const numPixelsY = canvas.height / pixelSize;

            let colorMap = {
                "güneş": "yellow", "parlak": "yellow", "ışık": "orange",
                "dağ": "saddlebrown", "kaya": "gray", "ağaç": "forestgreen", "orman": "darkgreen",
                "su": "blue", "göl": "skyblue", "deniz": "darkblue",
                "ev": "brown", "bina": "darkgray",
                "gece": "midnightblue", "yıldız": "white", "uzay": "black", "galaksi": "purple",
                "robot": "lightgray", "bilgisayar": "silver",
                "çiçek": "pink", "bahçe": "green", "çim": "lime"
            };

            outputEl.textContent = 'Kukiri çiziyor...';
            outputEl.style.color = 'var(--lego-black)';
            let drawingSteps = [];

            if (keywords.includes("güneş") || keywords.includes("parlak") || keywords.includes("ışık")) {
                drawingSteps.push(() => { // Sun
                    ctx.fillStyle = colorMap["güneş"];
                    ctx.beginPath();
                    ctx.arc(numPixelsX * pixelSize * 0.8, numPixelsY * pixelSize * 0.2, 3 * pixelSize, 0, Math.PI * 2);
                    ctx.fill();
                });
            }
            if (keywords.includes("dağ") || keywords.includes("kaya")) {
                drawingSteps.push(() => { // Mountain
                    ctx.fillStyle = colorMap["dağ"];
                    ctx.beginPath();
                    ctx.moveTo(0, numPixelsY * pixelSize);
                    ctx.lineTo(numPixelsX * pixelSize * 0.3, numPixelsY * pixelSize * 0.5);
                    ctx.lineTo(numPixelsX * pixelSize * 0.6, numPixelsY * pixelSize);
                    ctx.fill();
                });
            }
            if (keywords.includes("ağaç") || keywords.includes("orman") || keywords.includes("çim") || keywords.includes("bahçe")) {
                drawingSteps.push(() => { // Trees / Grass
                    ctx.fillStyle = colorMap["çim"];
                    ctx.fillRect(0, numPixelsY * pixelSize * 0.8, canvas.width, numPixelsY * pixelSize * 0.2); // Grass base
                    for (let i = 0; i < 3; i++) {
                        ctx.fillStyle = colorMap["ağaç"];
                        ctx.fillRect(numPixelsX * pixelSize * (0.1 + i*0.2), numPixelsY * pixelSize * 0.7 - i*10, pixelSize, pixelSize*2); // Trunk
                        ctx.fillStyle = colorMap["orman"];
                        ctx.beginPath();
                        ctx.arc(numPixelsX * pixelSize * (0.1 + i*0.2) + pixelSize/2, numPixelsY * pixelSize * 0.7 - i*10, pixelSize*2, 0, Math.PI * 2);
                        ctx.fill();
                    }
                });
            }
            if (keywords.includes("su") || keywords.includes("göl") || keywords.includes("deniz")) {
                drawingSteps.push(() => { // Water
                    ctx.fillStyle = colorMap["su"];
                    ctx.fillRect(0, numPixelsY * pixelSize * 0.8, canvas.width, numPixelsY * pixelSize * 0.2);
                });
            }
            if (keywords.includes("ev") || keywords.includes("bina")) {
                    drawingSteps.push(() => { // House
                        ctx.fillStyle = colorMap["ev"];
                        ctx.fillRect(numPixelsX * pixelSize * 0.7, numPixelsY * pixelSize * 0.6, pixelSize * 3, pixelSize * 3);
                        ctx.beginPath();
                        ctx.moveTo(numPixelsX * pixelSize * 0.7, numPixelsY * pixelSize * 0.6);
                        ctx.lineTo(numPixelsX * pixelSize * 0.7 + pixelSize * 1.5, numPixelsY * pixelSize * 0.4);
                        ctx.lineTo(numPixelsX * pixelSize * 0.7 + pixelSize * 3, numPixelsY * pixelSize * 0.6);
                        ctx.closePath();
                        ctx.fill();
                    });
            }
            if (keywords.includes("yıldız") || keywords.includes("uzay") || keywords.includes("galaksi") || keywords.includes("gece")) {
                drawingSteps.push(() => { // Stars
                    ctx.fillStyle = colorMap["gece"];
                    ctx.fillRect(0, 0, canvas.width, canvas.height); // Night sky
                    for (let i = 0; i < 20; i++) {
                        ctx.fillStyle = colorMap["yıldız"];
                        const starX = Math.random() * canvas.width;
                        const starY = Math.random() * canvas.height * 0.5; // Upper half for stars
                        ctx.fillRect(starX, starY, 2, 2);
                    }
                });
            }
            
            if (drawingSteps.length === 0) {
                // Default abstract pattern if no keywords match
                drawingSteps.push(() => {
                    for (let i = 0; i < 50; i++) {
                        ctx.fillStyle = `hsl(${Math.random() * 360}, 70%, 50%)`;
                        ctx.fillRect(Math.random() * canvas.width, Math.random() * canvas.height, pixelSize, pixelSize);
                    }
                });
            }

            // Execute drawing steps
            drawingSteps.forEach(step => step());
            outputEl.textContent = `Kukiri çizimini tamamladı! ${keywords.length > 0 ? "Anahtar kelimelerinizden ilham aldı: " + keywords.join(", ") : "Rastgele bir şeyler çizdi."}`;
        }

        // BÖLÜM 19: Kukiri'nin Gelecek Tahmini (Sayı Tahmini Oyunu)
        let  secretNumber = 0;
        let  attempts = 0;

        function initializeNumberGuessingGame() {
            secretNumber = Math.floor(Math.random() * 10) + 1; // 1 ile 10 arasında rastgele sayı
            attempts = 0;
            document.getElementById('userGuessInput').value = '';
            document.getElementById('numberGuessingOutput').textContent = 'Tahminini bekliyorum!';
            document.getElementById('numberGuessingOutput').style.color = 'var(--lego-black)';
            document.getElementById('guessCount').textContent = 'Deneme Sayısı: 0';
        }

        function checkGuess() {
            const guessInput = document.getElementById('userGuessInput');
            const userGuess = parseInt(guessInput.value);
            const outputEl = document.getElementById('numberGuessingOutput');
            
            if (isNaN(userGuess) || userGuess < 1 || userGuess > 10) {
                outputEl.textContent = 'Lütfen 1 ile 10 arasında geçerli bir sayı girin!';
                outputEl.style.color = 'var(--lego-red)';
                return;
            }

            attempts++;
            document.getElementById('guessCount').textContent = `Deneme Sayısı: ${attempts}`;

            if (userGuess === secretNumber) {
                outputEl.textContent = `Tebrikler! Kukiri'nin aklındaki sayı ${secretNumber} idi. ${attempts} denemede bildin! 🎉`;
                outputEl.style.color = 'var(--lego-green)';
                guessInput.disabled = true;
            } else if (userGuess < secretNumber) {
                outputEl.textContent = 'Daha büyük bir sayı dene!';
                outputEl.style.color = 'var(--lego-blue)';
            } else {
                outputEl.textContent = 'Daha küçük bir sayı dene!';
                outputEl.style.color = 'var(--lego-blue)';
            }
        }

        function resetGuessingGame() {
            initializeNumberGuessingGame();
            document.getElementById('userGuessInput').disabled = false;
        }


        // BÖLÜM 20: Kukiri'nin Uzay Macerası (Pekiştirmeli Öğrenme ile Yön Bulma)
        const spaceCanvas = document.getElementById('spaceCanvas');
        const spaceCtx = spaceCanvas.getContext('2d');
        const spaceGridSize = 10; // 10x10 grid
        const spaceCellSize = spaceCanvas.width / spaceGridSize;
        let kukiriSpacePos = { x: 0, y: 0 };
        let spaceObjects = []; // Asteroids and goal
        let spaceScore = 0;
        let spaceCollisions = 0;
        let spaceGoal = { x: spaceGridSize - 1, y: spaceGridSize - 1 };

        const Q_TABLE = {}; 
        const ALPHA = 0.1; // Learning rate
        const GAMMA = 0.9; // Discount factor
        const EPSILON = 0.2; // Exploration rate

        function resetQTable() {
            for (let y = 0; y < spaceGridSize; y++) {
                for (let x = 0; x < spaceGridSize; x++) {
                    Q_TABLE[`${x},${y}`] = { 
                        'up': 0, 'down': 0, 'left': 0, 'right': 0
                    };
                }
            }
        }

        function chooseAction(state) {
            if (Math.random() < EPSILON) {
                const actions = ['up', 'down', 'left', 'right'];
                return actions[Math.floor(Math.random() * actions.length)]; 
            } else {
                const qValues = Q_TABLE[state] || { 'up': 0, 'down': 0, 'left': 0, 'right': 0 };
                let maxQ = -Infinity;
                const bestActions = [];

                for (const action in qValues) {
                    if (qValues[action] > maxQ) {
                        maxQ = qValues[action];
                        bestActions.length = 0; 
                        bestActions.push(action);
                    } else if (qValues[action] === maxQ) {
                        bestActions.push(action);
                    }
                }
                return bestActions[Math.floor(Math.random() * bestActions.length)];
            }
        }

        function getNextSpaceStateAndReward(x, y, action) {
            let newX = x, newY = y;
            let reward = -1; 
            let done = false;

            if (action === 'up') newY--;
            else if (action === 'down') newY++;
            else if (action === 'left') newX--;
            else if (action === 'right') newX++;

            if (newX < 0 || newX >= spaceGridSize || newY < 0 || newY >= spaceGridSize) {
                newX = x; newY = y; 
                reward = -10; 
                spaceCollisions++;
            } else {
                const hitAsteroid = spaceObjects.find(obj => obj.type === 'asteroid' && obj.x === newX && obj.y === newY);
                if (hitAsteroid) {
                    newX = x; newY = y; 
                    reward = -50; 
                    spaceCollisions++;
                }
                if (newX === spaceGoal.x && newY === spaceGoal.y) {
                    reward = 100; 
                    done = true;
                    spaceScore += reward; 
                } else {
                    spaceScore += reward; 
                }
            }
            return { newX, newY, reward, done };
        }

        function updateQTable(oldState, action, reward, newState) {
            const oldQ = Q_TABLE[oldState] && Q_TABLE[oldState][action] || 0;
            const maxQOfNewState = Math.max(...Object.values(Q_TABLE[newState] || { 'up': 0, 'down': 0, 'left': 0, 'right': 0 }));
            const newQ = oldQ + ALPHA * (reward + GAMMA * maxQOfNewState - oldQ);
            if (!Q_TABLE[oldState]) Q_TABLE[oldState] = { 'up': 0, 'down': 0, 'left': 0, 'right': 0 };
            Q_TABLE[oldState][action] = newQ;
        }

        function drawSpace() {
            spaceCtx.clearRect(0, 0, spaceCanvas.width, spaceCanvas.height);
            spaceCtx.fillStyle = '#0a0a0a'; 
            spaceCtx.fillRect(0,0, spaceCanvas.width, spaceCanvas.height);

            for (let i = 0; i < spaceGridSize; i++) {
                for (let j = 0; j < spaceGridSize; j++) {
                    spaceCtx.strokeStyle = 'rgba(255,255,255,0.1)';
                    spaceCtx.strokeRect(j * spaceCellSize, i * spaceCellSize, spaceCellSize, spaceCellSize);
                }
            }

            spaceObjects.forEach(obj => {
                if (obj.type === 'asteroid') {
                    spaceCtx.fillStyle = 'var(--lego-dark-gray)'; 
                    spaceCtx.beginPath();
                    spaceCtx.arc(obj.x * spaceCellSize + spaceCellSize / 2, obj.y * spaceCellSize + spaceCellSize / 2, spaceCellSize / 3, 0, Math.PI * 2);
                    spaceCtx.fill();
                    spaceCtx.fillStyle = 'black';
                    spaceCtx.font = '14px Arial';
                    spaceCtx.textAlign = 'center';
                    spaceCtx.textBaseline = 'middle';
                    spaceCtx.fillText('A', obj.x * spaceCellSize + spaceCellSize / 2, obj.y * spaceCellSize + spaceCellSize / 2);
                }
            });

            spaceCtx.fillStyle = 'gold';
            spaceCtx.beginPath();
            spaceCtx.arc(spaceGoal.x * spaceCellSize + spaceCellSize / 2, spaceGoal.y * spaceCellSize + spaceCellSize / 2, spaceCellSize / 3, 0, Math.PI * 2);
            spaceCtx.fill();
            spaceCtx.fillStyle = 'black';
            spaceCtx.font = '20px Arial';
            spaceCtx.textAlign = 'center';
            spaceCtx.textBaseline = 'middle';
            spaceCtx.fillText('🎯', spaceGoal.x * spaceCellSize + spaceCellSize / 2, spaceGoal.y * spaceCellSize + spaceCellSize / 2 + 2);

            spaceCtx.fillStyle = 'var(--lego-blue)';
            spaceCtx.beginPath();
            spaceCtx.arc(kukiriSpacePos.x * spaceCellSize + spaceCellSize / 2, kukiriSpacePos.y * spaceCellSize + spaceCellSize / 2, spaceCellSize / 2 - 5, 0, Math.PI * 2);
            spaceCtx.fill();
            spaceCtx.fillStyle = 'white';
            spaceCtx.font = '20px Arial';
            spaceCtx.textAlign = 'center';
            spaceCtx.textBaseline = 'middle';
            spaceCtx.fillText('K', kukiriSpacePos.x * spaceCellSize + spaceCellSize / 2, kukiriSpacePos.y * spaceCellSize + spaceCellSize / 2);

            document.getElementById('spaceGold').textContent = spaceScore;
            document.getElementById('spaceCollisions').textContent = spaceCollisions;
            document.getElementById('spaceMissionOutput').style.color = 'var(--lego-black)'; 
        }

        function resetSpaceMission() {
            if (spaceMissionInterval) clearInterval(spaceMissionInterval);
            kukiriSpacePos = { x: 0, y: 0 };
            spaceScore = 0;
            spaceCollisions = 0;
            spaceObjects = []; 
            resetQTable(); 

            const numAsteroids = Math.floor(Math.random() * 5) + 3; 
            for (let i = 0; i < numAsteroids; i++) {
                let ax, ay;
                do {
                    ax = Math.floor(Math.random() * spaceGridSize);
                    ay = Math.floor(Math.random() * spaceGridSize);
                } while ((ax === 0 && ay === 0) || (ax === spaceGoal.x && ay === spaceGoal.y) || spaceObjects.some(obj => obj.x === ax && obj.y === ay));
                spaceObjects.push({ type: 'asteroid', x: ax, y: ay });
            }

            drawSpace();
            document.getElementById('spaceMissionOutput').textContent = 'Uzay görevi sıfırlandı. Yeni macera başlasın!';
        }

        let spaceMissionInterval = null; 
        function startSpaceMission() {
            resetSpaceMission(); 
            document.getElementById('spaceMissionOutput').textContent = 'Kukiri uzayda yolunu arıyor...';

            spaceMissionInterval = setInterval(() => {
                const oldState = `${kukiriSpacePos.x},${kukiriSpacePos.y}`;
                const action = chooseAction(oldState);
                
                const { newX, newY, reward, done } = getNextSpaceStateAndReward(kukiriSpacePos.x, kukiriSpacePos.y, action);
                const newState = `${newX},${newY}`;

                updateQTable(oldState, action, reward, newState);

                kukiriSpacePos.x = newX;
                kukiriSpacePos.y = newY;
                
                drawSpace();

                if (done) {
                    if (reward > 0) { 
                        document.getElementById('spaceMissionOutput').textContent = `Kukiri hedefe ulaştı! Görev BAŞARILI! 🎉 Toplam Puan: ${spaceScore}.`;
                    } else { 
                        document.getElementById('spaceMissionOutput').textContent = `Kukiri hedefe ulaşamadı. Toplam Puan: ${spaceScore}. Tekrar dene!`;
                    }
                    clearInterval(spaceMissionInterval);
                } else if (spaceCollisions > 20 || spaceScore < -200) { 
                    document.getElementById('spaceMissionOutput').textContent = `Kukiri çok zorlandı ve görevi tamamlayamadı. Toplam Puan: ${spaceScore}. Tekrar dene!`;
                    clearInterval(spaceMissionInterval);
                }

            }, 300); 
        }


        // BONUS 2: Kukiri Labirenti (Reinforcement Learning Simülasyonu)
        let maze = [
            [0, 0, 0, 0, 0],
            [0, 1, 0, 0, 0],
            [0, 0, 0, 1, 0],
            [0, 1, 0, 0, 0],
            [0, 0, 0, 0, 2] // 2 is goal (gold), 1 is trap
        ];
        let kukiriPos = { x: 0, y: 0 };
        let steps = 0;
        let score = 0;
        const gridSize = 5;
        const cellSize = 60; // 300px / 5 cells = 60px/cell

        function drawMaze() {
            const canvas = document.getElementById('mazeCanvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            for (let r = 0; r < gridSize; r++) {
                for (let c = 0; c < gridSize; c++) {
                    ctx.strokeStyle = '#808080';
                    ctx.lineWidth = 1;
                    ctx.strokeRect(c * cellSize, r * cellSize, cellSize, cellSize);

                    if (maze[r][c] === 1) { // Trap
                        ctx.fillStyle = 'red';
                        ctx.beginPath();
                        ctx.arc(c * cellSize + cellSize / 2, r * cellSize + cellSize / 2, cellSize / 3, 0, Math.PI * 2);
                        ctx.fill();
                        ctx.fillStyle = 'white';
                        ctx.font = '20px Arial';
                        ctx.textAlign = 'center';
                        ctx.textBaseline = 'middle';
                        ctx.fillText('X', c * cellSize + cellSize / 2, r * cellSize + cellSize / 2);
                    } else if (maze[r][c] === 2) { // Goal
                        ctx.fillStyle = 'gold';
                        ctx.beginPath();
                        ctx.arc(c * cellSize + cellSize / 2, r * cellSize + cellSize / 2, cellSize / 3, 0, Math.PI * 2);
                        ctx.fill();
                        ctx.fillStyle = 'white';
                        ctx.font = '20px Arial';
                        ctx.textAlign = 'center';
                        ctx.textBaseline = 'middle';
                        ctx.fillText('$', c * cellSize + cellSize / 2, r * cellSize + cellSize / 2);
                    }
                }
            }
            // Draw Kukiri
            ctx.fillStyle = 'var(--lego-orange)'; // Use orange for Kukiri
            ctx.beginPath();
            ctx.arc(kukiriPos.x * cellSize + cellSize / 2, kukiriPos.y * cellSize + cellSize / 2, cellSize / 2 - 5, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillStyle = 'black';
            ctx.font = '16px Arial';
            ctx.fillText('K', kukiriPos.x * cellSize + cellSize / 2, kukiriPos.y * cellSize + cellSize / 2);

            document.getElementById('mazeSteps').textContent = steps;
            document.getElementById('mazeScore').textContent = score;
            document.getElementById('mazeOutput').style.color = 'var(--lego-black)'; 
        }

        function moveKukiri(dx, dy) {
            let newX = kukiriPos.x + dx;
            let newY = kukiriPos.y + dy;

            if (newX >= 0 && newX < gridSize && newY >= 0 && newY < gridSize) {
                kukiriPos.x = newX;
                kukiriPos.y = newY;
                steps++;

                const cellContent = maze[kukiriPos.y][kukiriPos.x];
                const outputEl = document.getElementById('mazeOutput');

                if (cellContent === 2) { // Goal
                    score += 100;
                    outputEl.textContent = 'Kukiri altını buldu! 🎉 Puan: +100. Yeni bir labirent başlıyor!';
                    clearInterval(mazeInterval);
                    setTimeout(resetMaze, 2000); // Reset after 2 seconds
                } else if (cellContent === 1) { // Trap
                    score -= 50;
                    outputEl.textContent = 'Kukiri tuzağa yakalandı! 😵 Puan: -50. Dikkatli ol!';
                } else {
                    outputEl.textContent = `Kukiri ilerliyor... Adım: ${steps}`;
                }
            } else {
                outputEl.textContent = 'Kukiri duvara çarptı! 🧱 Başka yöne git.';
            }
            drawMaze();
        }

        let mazeInterval = null;
        function startMazeSimulation() {
            if (mazeInterval) clearInterval(mazeInterval); 
            document.getElementById('mazeOutput').textContent = 'Kukiri labirentte yolunu arıyor...';
            mazeInterval = setInterval(() => {
                const moves = [[0, 1], [0, -1], [1, 0], [-1, 0]]; 
                const randomMove = moves[Math.floor(Math.random() * moves.length)];
                moveKukiri(randomMove[0], randomMove[1]);
            }, 500); 
        }

        function resetMaze() {
            if (mazeInterval) clearInterval(mazeInterval);
            kukiriPos = { x: 0, y: 0 };
            steps = 0;
            score = 0;
            maze = [
                [0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0]
            ];
            let trapX, trapY, goalX, goalY;
            do { trapX = Math.floor(Math.random() * gridSize); trapY = Math.floor(Math.random() * gridSize); } while (trapX === 0 && trapY === 0);
            do { goalX = Math.floor(Math.random() * gridSize); goalY = Math.floor(Math.random() * gridSize); } while ((goalX === 0 && goalY === 0) || (goalX === trapX && goalY === trapY));
            
            maze[trapY][trapX] = 1;
            maze[goalY][goalX] = 2;

            drawMaze();
            document.getElementById('mazeOutput').textContent = "Labirent sıfırlandı. Yeni macera başlasın!";
            document.getElementById('mazeOutput').style.color = 'var(--lego-black)'; 
        }
        document.addEventListener('DOMContentLoaded', drawMaze); 

        // BONUS 3: Kukiri Şiir Yazıyor (Generative AI Simülasyonu)
        function generatePoem(type = 'new') {
            const keywordsInput = document.getElementById('genAIKeywords');
            const outputEl = document.getElementById('poemOutput');
            const keywords = keywordsInput.value.split(',').map(k => k.trim()).filter(k => k.length > 0);

            if (keywords.length === 0) {
                outputEl.innerHTML = '<h5>Lütfen en az bir anahtar kelime girin!</h5><p>Kukiri ilham bekliyor...</p>';
                outputEl.style.color = 'var(--lego-black)'; 
                return;
            }

            const starters = [
                "Gökyüzünde süzülürken,",
                "Derin düşüncelerde, bir fısıltı duyarım:",
                "Bir zamanlar, uzak bir diyarda,",
                "Güneş batarken, yıldızlar parıldarken,",
                "Her yeni şafakla, uyanır düşler,"
            ];
            const connectors = [
                "ve", "ama", "sonra", "çünkü", "bu yüzden", "oysa", "adeta", "tıpkı"
            ];
            const verbs = [
                "parlar", "dolaşır", "fısıldar", "çağırır", "yaklaşır", "uzanır"
            ];
            const nouns = [
                "hayaller", "umutlar", "ışıklar", "gölgeler", "sırlar", "kelebekler"
            ];
            const adjectives = [
                "sonsuz", "parlak", "gizli", "neşeli", "huzurlu", "sessiz"
            ];
            const endings = [
                "sonsuzluğa uzanır.",
                "yeni bir başlangıca davet eder.",
                "kalplerde yankılanır.",
                "her şey değişir.",
                "bir sırrı fısıldar.",
                "ışıl ışıl parlar sonsuza dek.",
                "her yerde iz bırakır."
            ];

            let poem = `<h5>Kukiri'nin Şiiri:</h5>\n`;
            let generatedLines = [];

            for (let i = 0; i < 4; i++) { 
                let line = starters[Math.floor(Math.random() * starters.length)];
                
                const kw1 = keywords[Math.floor(Math.random() * keywords.length)];
                const kw2 = keywords[Math.floor(Math.random() * keywords.length)];
                const con = connectors[Math.floor(Math.random() * connectors.length)];
                const verb = verbs[Math.floor(Math.random() * verbs.length)];
                const noun = nouns[Math.floor(Math.random() * nouns.length)];
                const adj = adjectives[Math.floor(Math.random() * adjectives.length)];
                const ending = endings[Math.floor(Math.random() * endings.length)];

                if (Math.random() < 0.5) {
                    line += ` ${kw1} ${con} ${kw2} ${verb}.`;
                } else {
                    line += ` ${adj} ${noun} ${con} ${kw1} ${ending}`;
                }
                generatedLines.push(line);
            }

            if (type === 'varyasyon') {
                poem += generatedLines.sort(() => 0.5 - Math.random()).join('\n'); 
            } else {
                poem += generatedLines.join('\n');
            }
            
            outputEl.innerHTML = poem;
            outputEl.style.color = 'var(--lego-black)'; 
            document.getElementById('genAIOptions').classList.remove('hidden');
            document.getElementById('genAIRules').classList.add('hidden'); 
        }

        function showGenAIRules() {
            document.getElementById('genAIRules').classList.toggle('hidden');
        }


        // BONUS 4: Görsel Katmanlarla Zekâ (CNN Simülasyonu)
        let videoStreamB4 = null;
        let animationFrameIdB4 = null;
        let currentFilter = null; 
        let filtersInitialized = false;

        async function startCameraB4() {
            const video = document.getElementById('webcamVideoB4');
            const startBtn = document.getElementById('startCamBtnB4');
            const stopBtn = document.getElementById('stopCamBtnB4');
            const outputEl = document.getElementById('cnnOutput');
            outputEl.style.color = 'var(--lego-black)'; 

            try {
                videoStreamB4 = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'user' } }); 
                video.srcObject = videoStreamB4;
                await video.play();
                startBtn.disabled = true;
                stopBtn.disabled = false;
                outputEl.textContent = 'Kamera aktif! Filtreleri denemeye başla.';
                
                video.addEventListener('loadedmetadata', function() {
                    const canvas = document.getElementById('filterOutputCanvas');
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    processVideoFrameB4(); 
                }, { once: true });
                
            } catch (err) {
                outputEl.textContent = 'Kamera erişimi reddedildi veya bir hata oluştu: ' + err.message;
                console.error("Kamera hatası:", err);
                startBtn.disabled = false;
                stopBtn.disabled = true;
            }
        }

        function stopCameraB4() {
            if (videoStreamB4) {
                videoStreamB4.getTracks().forEach(track => track.stop());
                videoStreamB4 = null;
                document.getElementById('webcamVideoB4').srcObject = null;
            }
            if (animationFrameIdB4) {
                cancelAnimationFrame(animationFrameIdB4);
                animationFrameIdB4 = null;
            }
            const canvas = document.getElementById('filterOutputCanvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            document.getElementById('startCamBtnB4').disabled = false;
            document.getElementById('stopCamBtnB4').disabled = true;
            document.getElementById('cnnOutput').textContent = 'Kukiri görüntüyü işliyor...';
            document.getElementById('cnnOutput').style.color = 'var(--lego-black)';
            currentFilter = null; 
        }

        function applyFilterB4(filterType) {
            currentFilter = filterType;
            document.getElementById('cnnOutput').textContent = `Kukiri ${filterType} filtresini uyguluyor...`;
            document.getElementById('cnnOutput').style.color = 'var(--lego-black)'; 
        }

        function clearFiltersB4() {
            currentFilter = null;
            document.getElementById('cnnOutput').textContent = 'Filtreler temizlendi.';
            document.getElementById('cnnOutput').style.color = 'var(--lego-black)'; 
        }

        function processVideoFrameB4() {
            const video = document.getElementById('webcamVideoB4');
            const canvas = document.getElementById('filterOutputCanvas');
            const ctx = canvas.getContext('2d');

            if (video.paused || video.ended || !videoStreamB4) {
                return;
            }

            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

            if (currentFilter) {
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                const data = imageData.data;

                if (currentFilter === 'grayscale') {
                    for (let i = 0; i < data.length; i += 4) {
                        const gray = (data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114);
                        data[i] = gray;
                        data[i + 1] = gray;
                        data[i + 2] = gray;
                    }
                } else if (currentFilter === 'invert') {
                    for (let i = 0; i < data.length; i += 4) {
                        data[i] = 255 - data[i];
                        data[i + 1] = 255 - data[i + 1];
                        data[i + 2] = 255 - data[i + 2];
                    }
                } else if (currentFilter === 'edges') {
                    const tempData = new Uint8ClampedArray(data.length);
                    for (let i = 0; i < data.length; i += 4) {
                        const avg = (data[i] + data[i+1] + data[i+2]) / 3;
                        const neighborsAvg = (
                            (data[i-4] || avg) + (data[i+4] || avg) + 
                            (data[i - (canvas.width * 4)] || avg) + (data[i + (canvas.width * 4)] || avg) 
                        ) / 4;
                        const contrast = Math.abs(avg - neighborsAvg) * 5; 
                        const value = contrast > 100 ? 0 : 255; 
                        tempData[i] = value;
                        tempData[i+1] = value;
                        tempData[i+2] = value;
                        tempData[i+3] = data[i+3]; 
                    }
                    data.set(tempData);
                }
                ctx.putImageData(imageData, 0, 0);
            }

            if (currentFilter === 'edges') {
                document.getElementById('cnnOutput').textContent = 'Kukiri kenarları fark ediyor! Belki bu bir "kutu" veya "masa" olabilir mi?';
            } else if (currentFilter === 'grayscale') {
                document.getElementById('cnnOutput').textContent = 'Kukiri objeleri sadece siyah beyaz görüyor. Bu bir "nesne" gibi görünüyor.';
            } else if (currentFilter === 'invert') {
                document.getElementById('cnnOutput').textContent = 'Kukiri renkleri ters çevirdi! Bu hâlâ bir "şey"e benziyor.';
            } else {
                document.getElementById('cnnOutput').textContent = 'Kukiri görüntüyü işliyor...';
            }

            animationFrameIdB4 = requestAnimationFrame(processVideoFrameB4);
        }

        // B21: Kukiri Müzik Yapıyor
        let audioContext = null;
        let oscillator = null;

        function initializeAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function playNote(frequency, duration) {
            if (!audioContext) {
                initializeAudio();
            }
            if (audioContext) {
                oscillator = audioContext.createOscillator();
                oscillator.type = 'sine'; 
                oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                oscillator.connect(audioContext.destination);
                oscillator.start();
                oscillator.stop(audioContext.currentTime + duration);
            }
        }

        function generateMusic() {
            initializeAudio();
            const keywords = document.getElementById('musicKeywords').value.toLowerCase();
            const outputEl = document.getElementById('musicOutput');
            outputEl.style.color = 'var(--lego-black)';

            outputEl.textContent = 'Kukiri yeni bir melodi besteliyor... 🎶';

            const notes = {
                'neşeli': [440, 523, 659, 784, 880], 
                'hüzünlü': [261, 329, 392, 440, 493], 
                'robotik': [220, 233, 246, 261, 277], 
                'genel': [392, 440, 493, 523, 587] 
            };

            let selectedNotes = notes['genel'];
            if (keywords.includes('neşeli')) selectedNotes = notes['neşeli'];
            else if (keywords.includes('hüzünlü')) selectedNotes = notes['hüzünlü'];
            else if (keywords.includes('robotik')) selectedNotes = notes['robotik'];

            let sequence = [];
            for (let i = 0; i < 8; i++) { 
                sequence.push(selectedNotes[Math.floor(Math.random() * selectedNotes.length)]);
            }

            let delay = 0;
            outputEl.textContent = 'Kukiri melodiyi çalıyor...';
            sequence.forEach((note, index) => {
                setTimeout(() => {
                    playNote(note, 0.3); 
                    if (index === sequence.length - 1) {
                        outputEl.textContent = 'Melodi tamamlandı! 🎼';
                    }
                }, delay);
                delay += 350; 
            });
        }

        function stopMusic() {
            if (oscillator) {
                oscillator.stop();
                oscillator = null;
            }
            if (audioContext) {
                audioContext.close(); 
                audioContext = null;
            }
            document.getElementById('musicOutput').textContent = 'Müzik durduruldu. 🔇';
        }


        // B22: Kukiri Resim Yapabiliyor
        function generateDrawing() {
            const keywordsInput = document.getElementById('drawingKeywords');
            const outputEl = document.getElementById('drawingOutput');
            const canvas = document.getElementById('drawingCanvas');
            const ctx = canvas.getContext('2d');
            const keywords = keywordsInput.value.toLowerCase().split(',').map(k => k.trim()).filter(k => k.length > 0);

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#f0f0f0'; 
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            outputEl.textContent = 'Kukiri sizin için çiziyor...';
            outputEl.style.color = 'var(--lego-black)';

            if (keywords.includes('güneş')) {
                ctx.fillStyle = 'yellow';
                ctx.beginPath();
                ctx.arc(canvas.width - 50, 50, 40, 0, Math.PI * 2);
                ctx.fill();
            }
            if (keywords.includes('ağaç') || keywords.includes('orman')) {
                ctx.fillStyle = 'brown';
                ctx.fillRect(100, canvas.height - 150, 20, 100); 
                ctx.fillStyle = 'green';
                ctx.beginPath();
                ctx.arc(110, canvas.height - 150, 40, 0, Math.PI * 2); 
                ctx.fill();
            }
            if (keywords.includes('nehi') || keywords.includes('su')) {
                ctx.fillStyle = 'blue';
                ctx.beginPath();
                ctx.moveTo(0, canvas.height - 50);
                ctx.lineTo(canvas.width, canvas.height - 70);
                ctx.lineTo(canvas.width, canvas.height);
                ctx.lineTo(0, canvas.height);
                ctx.closePath();
                ctx.fill();
            }
            if (keywords.includes('ev')) {
                ctx.fillStyle = 'red';
                ctx.fillRect(250, canvas.height - 120, 80, 80); 
                ctx.beginPath();
                ctx.moveTo(250, canvas.height - 120);
                ctx.lineTo(290, canvas.height - 160);
                ctx.lineTo(330, canvas.height - 120);
                ctx.closePath();
                ctx.fill(); 
            }
            if (keywords.includes('bulut')) {
                ctx.fillStyle = 'lightgray';
                ctx.beginPath();
                ctx.arc(80, 80, 30, 0, Math.PI * 2);
                ctx.arc(110, 70, 35, 0, Math.PI * 2);
                ctx.arc(140, 80, 30, 0, Math.PI * 2);
                ctx.fill();
            }

            if (keywords.length === 0) {
                outputEl.textContent = 'Kukiri rastgele bir soyut resim çizdi. Belki ilhamın budur! 🎨';
                for(let i = 0; i < 30; i++) {
                    ctx.fillStyle = `hsl(${Math.random() * 360}, 70%, 60%)`;
                    ctx.fillRect(Math.random() * canvas.width, Math.random() * canvas.height, 20, 20);
                }
            } else {
                outputEl.textContent = `Kukiri çizimini tamamladı! Anahtar kelimelerden ilham alındı: ${keywords.join(', ')}.`;
            }
        }

        function clearDrawing() {
            const canvas = document.getElementById('drawingCanvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#f0f0f0';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            document.getElementById('drawingOutput').textContent = 'Çizim temizlendi. Yeniden çizmeyi dene!';
            document.getElementById('drawingOutput').style.color = 'var(--lego-black)';
            document.getElementById('drawingKeywords').value = '';
        }


        // B23: Kukiri Yönetmen Oldu!
        let videoSimulationInterval = null;
        const videoScenes = {
            'robot': 'Bir robot yavaşça ileri doğru yürüyor. Mekanik adımlar yankılanıyor.',
            'uzay': 'Sonsuz uzay boşluğunda bir uzay gemisi süzülüyor. Arkasında yıldız tozları bırakıyor.',
            'çiçek': 'Bir tohum toprağın altında çatlıyor. Minik bir filiz beliriyor ve hızla büyüyerek rengarenk bir çiçeğe dönüşüyor.',
            'orman': 'Yemyeşil bir ormanda kuş sesleri yankılanıyor. Güneş ışıkları ağaçların arasından süzülüyor.',
            'kale': 'Uzakta, sisler içinde eski bir kale beliriyor. Sanki içinde yüzyılların sırlarını saklıyor.',
            'deniz': 'Mavi denizin üzerinde dalgalar hafifçe sallanıyor. Güneş batarken gökyüzü turuncuya dönüyor.'
        };

        function generateVideoSimulation() {
            const scenarioInput = document.getElementById('videoScenarioInput').value.toLowerCase();
            const outputEl = document.getElementById('videoOutput');
            const simulationTextEl = document.getElementById('videoSimulationText');

            stopVideoSimulation(); 

            outputEl.textContent = 'Kukiri senaryoyu inceliyor...';
            outputEl.style.color = 'var(--lego-black)';
            simulationTextEl.textContent = ''; 

            const scenesToPlay = [];
            for (const keyword in videoScenes) {
                if (scenarioInput.includes(keyword)) {
                    scenesToPlay.push(videoScenes[keyword]);
                }
            }

            if (scenesToPlay.length === 0) {
                outputEl.textContent = 'Üzgünüm, bu senaryo için sahne bulamadım. "robot, uzay, çiçek, orman, kale, deniz" gibi anahtar kelimeler dene.';
                return;
            }

            let currentSceneIndex = 0;
            simulationTextEl.textContent = 'Video simülasyonu başlıyor...';
            outputEl.textContent = 'Sahne: ' + scenesToPlay[currentSceneIndex];

            videoSimulationInterval = setInterval(() => {
                currentSceneIndex++;
                if (currentSceneIndex < scenesToPlay.length) {
                    outputEl.textContent = 'Sahne: ' + scenesToPlay[currentSceneIndex];
                    simulationTextEl.innerHTML += `<br><span style="font-style: italic; color: var(--text-secondary);">Yeni sahne geçişi...</span><br>${scenesToPlay[currentSceneIndex]}`;
                    simulationTextEl.scrollTop = simulationTextEl.scrollHeight; 
                } else {
                    stopVideoSimulation();
                    outputEl.textContent = 'Video tamamlandı! Kukiri yönetmenlik yeteneklerini sergiledi. 🎬';
                    simulationTextEl.innerHTML += `<br><br><strong style="color: var(--lego-green);">*** FİLM SONU ***</strong>`;
                }
            }, 3000); 
        }

        function stopVideoSimulation() {
            if (videoSimulationInterval) {
                clearInterval(videoSimulationInterval);
                videoSimulationInterval = null;
            }
            document.getElementById('videoOutput').textContent = 'Video simülasyonu durduruldu.';
            document.getElementById('videoOutput').style.color = 'var(--lego-black)';
            document.getElementById('videoSimulationText').textContent = 'Video simülasyonu burada görünecek...';
        }

        // B24: Kukiri Developer - Geliştirici Kukiri Kod Yazıyor!
        async function generateAndRunCode() {
            const codePrompt = document.getElementById('codePromptInput').value.trim().toLowerCase();
            const generatedCodeOutputEl = document.getElementById('generatedCodeOutput');
            const codeExecutionOutputEl = document.getElementById('codeExecutionOutput');

            if (codePrompt === "") {
                generatedCodeOutputEl.textContent = '# Lütfen bir kod görevi tanımlayın!';
                codeExecutionOutputEl.textContent = 'Kod çıktısı burada görünecek...';
                return;
            }

            generatedCodeOutputEl.style.color = 'var(--lego-green)';
            codeExecutionOutputEl.style.color = 'var(--lego-black)';

            generatedCodeOutputEl.textContent = '# Kukiri kod üretiyor... Lütfen bekleyin. 🤖';
            codeExecutionOutputEl.textContent = 'Kod çıktısı burada görünecek...';

            let generatedCode = '';
            let explanation = '';

            if (codePrompt.includes('merhaba dünya')) {
                generatedCode = 'print("Merhaba Dünya!")';
                explanation = 'Bu kod, ekrana "Merhaba Dünya!" yazdırır. Programlamaya giriş için klasik bir örnektir.';
            } else if (codePrompt.includes('toplama') && codePrompt.includes('iki sayı')) {
                generatedCode = `sayi1 = 5\nsayi2 = 10\ntoplam = sayi1 + sayi2\nprint(f"Toplam: {toplam}")`;
                explanation = 'Bu kod, iki sayıyı (5 ve 10) toplar ve sonucu ekrana yazdırır.';
            } else if (codePrompt.includes('döngü') && codePrompt.includes('5 kez')) {
                generatedCode = `for i in range(5):\n    print(f"Döngü adım {i+1}")`;
                explanation = 'Bu kod, bir döngü kullanarak "Döngü adım X" mesajını 5 kez yazdırır.';
            } else if (codePrompt.includes('fonksiyon') && codePrompt.includes('selamlama')) {
                generatedCode = `def selamla(isim):\n    print(f"Merhaba, {isim}!")\nselamla("Kukiri")`;
                explanation = 'Bu kod, bir "selamlama" fonksiyonu tanımlar ve "Kukiri" ismini kullanarak onu çağırır.';
            } else {
                generatedCode = `# Üzgünüm, bu görevi henüz kodlayamıyorum.\n# Daha basit veya farklı bir görev deneyebilirsin.`;
                explanation = 'Kukiri bu tür bir görevi nasıl kodlayacağını henüz öğrenemedi.';
            }

            generatedCodeOutputEl.textContent = generatedCode;

            if (!pyodide) {
                await loadPyodideEnvironment(24); 
            }

            if (pyodide) {
                setStatusMessage(codeExecutionOutputEl.id, "<i class='fas fa-cog fa-spin'></i> Üretilen kod çalıştırılıyor...", "loading");
                try {
                    let stdout_data = "";
                    pyodide.setStdout({ batched: (str) => stdout_data += str });
                    pyodide.setStdin({ stdin: null }); 

                    await pyodide.runPythonAsync(generatedCode);
                    codeExecutionOutputEl.style.color = 'var(--lego-black)';
                    codeExecutionOutputEl.textContent = stdout_data || "Kod çalıştı ancak ekrana bir şey yazdırmadı.";
                } catch (error) {
                    codeExecutionOutputEl.style.color = 'var(--lego-red)';
                    codeExecutionOutputEl.textContent = `Hata! Üretilen kod çalıştırılamadı:\n${error.message}`;
                    console.error("Üretilen kod çalıştırma hatası:", error);
                } finally {
                    pyodide.setStdout({ batched: (str) => console.log(str) });
                }
            } else {
                codeExecutionOutputEl.style.color = 'var(--lego-red)';
                codeExecutionOutputEl.textContent = 'Python ortamı yüklenemediği için kod çalıştırılamadı.';
            }
        }
    </script>
</body>
</html>
